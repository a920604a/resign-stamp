(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var ad={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function SA(){if(Wy)return il;Wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return il.Fragment=t,il.jsx=i,il.jsxs=i,il}var t_;function bA(){return t_||(t_=1,ad.exports=SA()),ad.exports}var $t=bA(),od={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function RA(){if(e_)return At;e_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,nt={};function Z(D,Y,et){this.props=D,this.context=Y,this.refs=nt,this.updater=et||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function ft(D,Y,et){this.props=D,this.context=Y,this.refs=nt,this.updater=et||q}var ot=ft.prototype=new Tt;ot.constructor=ft,X(ot,Z.prototype),ot.isPureReactComponent=!0;var Nt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function V(D,Y,et,J,lt,Rt){return et=Rt.ref,{$$typeof:r,type:D,key:Y,ref:et!==void 0?et:null,props:Rt}}function S(D,Y){return V(D.type,Y,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function P(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):Y.toString(36)}function w(){}function Ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,Y,et,J,lt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case r:case t:yt=!0;break;case A:return yt=D._init,ie(yt(D._payload),Y,et,J,lt)}}if(yt)return lt=lt(D),yt=J===""?"."+P(D,0):J,Nt(lt)?(et="",yt!=null&&(et=yt.replace(M,"$&/")+"/"),ie(lt,Y,et,"",function(Ln){return Ln})):lt!=null&&(R(lt)&&(lt=S(lt,et+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+yt)),Y.push(lt)),1;yt=0;var Re=J===""?".":J+":";if(Nt(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],Rt=Re+P(J,Zt),yt+=ie(J,Y,et,Rt,lt);else if(Zt=C(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,Rt=Re+P(J,Zt++),yt+=ie(J,Y,et,Rt,lt);else if(Rt==="object"){if(typeof D.then=="function")return ie(Ve(D),Y,et,J,lt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,Y,et){if(D==null)return D;var J=[],lt=0;return ie(D,J,"","",function(Rt){return Y.call(et,Rt,lt++)}),J}function tt(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var at=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Lt(){}return At.Children={map:H,forEach:function(D,Y,et){H(D,function(){Y.apply(this,arguments)},et)},count:function(D){var Y=0;return H(D,function(){Y++}),Y},toArray:function(D){return H(D,function(Y){return Y})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=Z,At.Fragment=i,At.Profiler=l,At.PureComponent=ft,At.StrictMode=a,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,Y,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=X({},D.props),lt=D.key,Rt=void 0;if(Y!=null)for(yt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!Vt.call(Y,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Y.ref===void 0||(J[yt]=Y[yt]);var yt=arguments.length-2;if(yt===1)J.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return V(D.type,lt,void 0,void 0,Rt,J)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,Y,et){var J,lt={},Rt=null;if(Y!=null)for(J in Y.key!==void 0&&(Rt=""+Y.key),Y)Vt.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=Y[J]);var yt=arguments.length-2;if(yt===1)lt.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];lt.children=Re}if(D&&D.defaultProps)for(J in yt=D.defaultProps,yt)lt[J]===void 0&&(lt[J]=yt[J]);return V(D,Rt,void 0,void 0,null,lt)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=R,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},At.memo=function(D,Y){return{$$typeof:_,type:D,compare:Y===void 0?null:Y}},At.startTransition=function(D){var Y=_t.T,et={};_t.T=et;try{var J=D(),lt=_t.S;lt!==null&&lt(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,at)}catch(Rt){at(Rt)}finally{_t.T=Y}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(D){return _t.H.use(D)},At.useActionState=function(D,Y,et){return _t.H.useActionState(D,Y,et)},At.useCallback=function(D,Y){return _t.H.useCallback(D,Y)},At.useContext=function(D){return _t.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,Y){return _t.H.useDeferredValue(D,Y)},At.useEffect=function(D,Y,et){var J=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,Y)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(D,Y,et){return _t.H.useImperativeHandle(D,Y,et)},At.useInsertionEffect=function(D,Y){return _t.H.useInsertionEffect(D,Y)},At.useLayoutEffect=function(D,Y){return _t.H.useLayoutEffect(D,Y)},At.useMemo=function(D,Y){return _t.H.useMemo(D,Y)},At.useOptimistic=function(D,Y){return _t.H.useOptimistic(D,Y)},At.useReducer=function(D,Y,et){return _t.H.useReducer(D,Y,et)},At.useRef=function(D){return _t.H.useRef(D)},At.useState=function(D){return _t.H.useState(D)},At.useSyncExternalStore=function(D,Y,et){return _t.H.useSyncExternalStore(D,Y,et)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var n_;function Xd(){return n_||(n_=1,od.exports=RA()),od.exports}var Li=Xd(),ld={exports:{}},rl={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function wA(){return i_||(i_=1,function(r){function t(H,tt){var at=H.length;H.push(tt);t:for(;0<at;){var Lt=at-1>>>1,D=H[Lt];if(0<l(D,tt))H[Lt]=tt,H[at]=D,at=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],at=H.pop();if(at!==tt){H[0]=at;t:for(var Lt=0,D=H.length,Y=D>>>1;Lt<Y;){var et=2*(Lt+1)-1,J=H[et],lt=et+1,Rt=H[lt];if(0>l(J,at))lt<D&&0>l(Rt,J)?(H[Lt]=Rt,H[lt]=at,Lt=lt):(H[Lt]=J,H[et]=at,Lt=et);else if(lt<D&&0>l(Rt,at))H[Lt]=Rt,H[lt]=at,Lt=lt;else break t}}return tt}function l(H,tt){var at=H.sortIndex-tt.sortIndex;return at!==0?at:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,I=null,C=3,q=!1,X=!1,nt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Nt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=H)a(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(_)}}function _t(H){if(nt=!1,Nt(H),!X)if(i(p)!==null)X=!0,Vt||(Vt=!0,P());else{var tt=i(_);tt!==null&&ie(_t,tt.startTime-H)}}var Vt=!1,V=-1,S=5,R=-1;function N(){return Z?!0:!(r.unstable_now()-R<S)}function M(){if(Z=!1,Vt){var H=r.unstable_now();R=H;var tt=!0;try{t:{X=!1,nt&&(nt=!1,ft(V),V=-1),q=!0;var at=C;try{e:{for(Nt(H),I=i(p);I!==null&&!(I.expirationTime>H&&N());){var Lt=I.callback;if(typeof Lt=="function"){I.callback=null,C=I.priorityLevel;var D=Lt(I.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){I.callback=D,Nt(H),tt=!0;break e}I===i(p)&&a(p),Nt(H)}else a(p);I=i(p)}if(I!==null)tt=!0;else{var Y=i(_);Y!==null&&ie(_t,Y.startTime-H),tt=!1}}break t}finally{I=null,C=at,q=!1}tt=void 0}}finally{tt?P():Vt=!1}}}var P;if(typeof ot=="function")P=function(){ot(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ve=w.port2;w.port1.onmessage=M,P=function(){Ve.postMessage(null)}}else P=function(){Tt(M,0)};function ie(H,tt){V=Tt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(H){switch(C){case 1:case 2:case 3:var tt=3;break;default:tt=C}var at=C;C=tt;try{return H()}finally{C=at}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=C;C=H;try{return tt()}finally{C=at}},r.unstable_scheduleCallback=function(H,tt,at){var Lt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Lt+at:Lt):at=Lt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=at+D,H={id:A++,callback:tt,priorityLevel:H,startTime:at,expirationTime:D,sortIndex:-1},at>Lt?(H.sortIndex=at,t(_,H),i(p)===null&&H===i(_)&&(nt?(ft(V),V=-1):nt=!0,ie(_t,at-Lt))):(H.sortIndex=D,t(p,H),X||q||(X=!0,Vt||(Vt=!0,P()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var tt=C;return function(){var at=C;C=tt;try{return H.apply(this,arguments)}finally{C=at}}}}(cd)),cd}var r_;function IA(){return r_||(r_=1,ud.exports=wA()),ud.exports}var hd={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function CA(){if(s_)return He;s_=1;var r=Xd();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},He.flushSync=function(p){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=A,a.d.f()}},He.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},He.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},He.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:C,fetchPriority:q}):A==="script"&&a.d.X(p,{crossOrigin:I,integrity:C,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},He.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);a.d.L(p,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},He.requestFormReset=function(p){a.d.r(p)},He.unstable_batchedUpdates=function(p,_){return p(_)},He.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var a_;function DA(){if(a_)return hd.exports;a_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=CA(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function OA(){if(o_)return rl;o_=1;var r=IA(),t=Xd(),i=DA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===s){v=!0,s=h,o=f;break}if(E===o){v=!0,o=h,s=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===s){v=!0,s=f,o=h;break}if(E===o){v=!0,o=f,s=h;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ot:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ve(e(n))}catch{}}return null}var ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Lt=[],D=-1;function Y(e){return{current:e}}function et(e){0>D||(e.current=Lt[D],Lt[D]=null,D--)}function J(e,n){D++,Lt[D]=e.current,e.current=n}var lt=Y(null),Rt=Y(null),yt=Y(null),Re=Y(null);function Zt(e,n){switch(J(yt,n),J(Rt,e),J(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Iy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Iy(n),e=Cy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(lt),J(lt,e)}function Ln(){et(lt),et(Rt),et(yt)}function Gi(e){e.memoizedState!==null&&J(Re,e);var n=lt.current,s=Cy(n,e.type);n!==s&&(J(Rt,e),J(lt,s))}function ui(e){Rt.current===e&&(et(lt),et(Rt)),Re.current===e&&(et(Re),Jo._currentValue=at)}var Lr=Object.prototype.hasOwnProperty,zr=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,Ya=r.unstable_shouldYield,Ml=r.unstable_requestPaint,pn=r.unstable_now,sh=r.unstable_getCurrentPriorityLevel,Xa=r.unstable_ImmediatePriority,Vs=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,ah=r.unstable_LowPriority,Ms=r.unstable_IdlePriority,$a=r.log,xl=r.unstable_setDisableYieldValue,re=null,qt=null;function sn(e){if(typeof $a=="function"&&xl(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(re,e)}catch{}}var je=Math.clz32?Math.clz32:qr,Pl=Math.log,oh=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Pl(e)/oh|0)|0}var Hr=256,Gr=4194304;function Dn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xs(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Dn(o):(v&=E,v!==0?h=Dn(v):s||(s=E&~e,s!==0&&(h=Dn(s))))):(E=o&~f,E!==0?h=Dn(E):v!==0?h=Dn(v):s||(s=o&~e,s!==0&&(h=Dn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Fr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Za(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var e=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),e}function Wa(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function ci(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function to(e,n,s,o,h,f){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(s=v&~s;0<s;){var G=31-je(s),Q=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}s&=~Q}o!==0&&zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function zn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-je(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-je(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Fi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ps(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Ky(e.type))}function Ul(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,fe="__reactProps$"+Wt,yn="__reactContainer$"+Wt,no="__reactEvents$"+Wt,lh="__reactListeners$"+Wt,Ki="__reactHandles$"+Wt,kl="__reactResources$"+Wt,Qr="__reactMarker$"+Wt;function Yi(e){delete e[ye],delete e[fe],delete e[no],delete e[lh],delete e[Ki]}function fi(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[yn]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vy(e);e!==null;){if(s=e[ye])return s;e=Vy(e)}return n}e=s,s=e.parentNode}return null}function Bn(e){if(e=e[ye]||e[yn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function jn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ye(e){var n=e[kl];return n||(n=e[kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Qr]=!0}var io=new Set,Us={};function On(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Us[e]=n,e=0;e<n.length;e++)io.add(n[e])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Kr={};function Bl(e){return Lr.call(Kr,e)?!0:Lr.call(zl,e)?!1:Ll.test(e)?Kr[e]=!0:(zl[e]=!0,!1)}function Xi(e,n,s){if(Bl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function qn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Me(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var Yr,jl;function mi(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",jl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+jl}var ks=!1;function Ls(e,n){if(!e||ks)return"";ks=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ks=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?mi(s):""}function ro(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ls(e.type,!1);case 11:return Ls(e.type.render,!1);case 1:return Ls(e.type,!0);case 31:return mi("Activity");default:return""}}function zs(e){try{var n="";do n+=ro(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function so(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uh(e){var n=so(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Bs(e){e._valueTracker||(e._valueTracker=uh(e))}function ao(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=so(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ch=/[\n"\\]/g;function de(e){return e.replace(ch,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(e,n,s,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?$i(e,v,Xe(n)):s!=null?$i(e,v,Xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function $r(e,n,s,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Xe(s):"",n=n!=null?""+Xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function $i(e,n,s){n==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gi(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ft(e,n,s){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Xe(s):""}function Zr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function _n(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Jr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function oo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&ql(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ql(e,f,n[f])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(e){return fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,_i=null;function uo(e){var n=Bn(e);if(n&&(e=n.stateNode)){var s=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(an(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(a(90));an(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ao(o)}break t;case"textarea":Ft(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&gi(e,!!s.multiple,n,!1)}}}var Hn=!1;function Hl(e,n,s){if(Hn)return e(n,s);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(yi!==null||_i!==null)&&(Uu(),yi&&(n=yi,e=_i,_i=yi=null,uo(n),e)))for(n=0;n<e.length;n++)uo(e[n])}}function Wr(e,n){var s=e.stateNode;if(s===null)return null;var o=s[fe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Nn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){En=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{En=!1}var Gn=null,Zi=null,vi=null;function co(){if(vi)return vi;var e,n=Zi,s=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var v=s-e;for(o=1;o<=v&&n[s-o]===h[f-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Fn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function ho(){return!1}function we(e){function n(s,o,h,f,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:ho,this.isPropagationStopped=ho,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=we(Bt),es=A({},Bt,{view:0,detail:0}),Gl=we(es),Hs,Gs,Kn,ns=A({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(Hs=e.screenX-Kn.screenX,Gs=e.screenY-Kn.screenY):Gs=Hs=0,Kn=e),Hs)},movementY:function(e){return"movementY"in e?e.movementY:Gs}}),Tn=we(ns),Fl=A({},ns,{dataTransfer:0}),dh=we(Fl),is=A({},es,{relatedTarget:0}),Fs=we(is),fo=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=we(fo),Ql=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ks=we(Ql),mh=A({},Bt,{data:0}),mo=we(mh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yl[e])?!!n[e]:!1}function ss(){return go}var Xl=A({},es,{key:function(e){if(e.key){var n=rs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Fn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ys=we(Xl),$l=A({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=we($l),Ei=A({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Zl=we(Ei),Jl=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wl=we(Jl),tu=A({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xs=we(tu),$e=A({},Bt,{newState:0,oldState:0}),eu=we($e),nu=[9,13,27,32],Yn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,y=Nn&&(!Yn||u&&8<u&&11>=u),T=" ",U=!1;function j(e,n){switch(e){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function _e(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function xt(e,n){if(Mt)return e==="compositionend"||!Yn&&j(e,n)?(e=co(),vi=Zi=Gn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ti(e,n,s,o){yi?_i?_i.push(o):_i=[o]:yi=o,n=qu(n,"onChange"),0<n.length&&(s=new qs("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xe=null,Xn=null;function yo(e){Ay(e,0)}function iu(e){var n=jn(e);if(ao(n))return e}function Hm(e,n){if(e==="change")return n}var Gm=!1;if(Nn){var gh;if(Nn){var ph="oninput"in document;if(!ph){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),ph=typeof Fm.oninput=="function"}gh=ph}else gh=!1;Gm=gh&&(!document.documentMode||9<document.documentMode)}function Qm(){xe&&(xe.detachEvent("onpropertychange",Km),Xn=xe=null)}function Km(e){if(e.propertyName==="value"&&iu(Xn)){var n=[];Ti(n,Xn,e,vn(e)),Hl(yo,n)}}function WE(e,n,s){e==="focusin"?(Qm(),xe=n,Xn=s,xe.attachEvent("onpropertychange",Km)):e==="focusout"&&Qm()}function tT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iu(Xn)}function eT(e,n){if(e==="click")return iu(n)}function nT(e,n){if(e==="input"||e==="change")return iu(n)}function iT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:iT;function _o(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Lr.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xm(e,n){var s=Ym(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ym(s)}}function $m(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?$m(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Xr(e.document)}return n}function yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var rT=Nn&&"documentMode"in document&&11>=document.documentMode,$s=null,_h=null,vo=null,vh=!1;function Jm(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vh||$s==null||$s!==Xr(o)||(o=$s,"selectionStart"in o&&yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&_o(vo,o)||(vo=o,o=qu(_h,"onSelect"),0<o.length&&(n=new qs("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=$s)))}function as(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Zs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Eh={},Wm={};Nn&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function os(e){if(Eh[e])return Eh[e];if(!Zs[e])return e;var n=Zs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Wm)return Eh[e]=n[s];return e}var tg=os("animationend"),eg=os("animationiteration"),ng=os("animationstart"),sT=os("transitionrun"),aT=os("transitionstart"),oT=os("transitioncancel"),ig=os("transitionend"),rg=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Vn(e,n){rg.set(e,n),On(n,[e])}var sg=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var s=sg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:zs(n)},sg.set(e,n),n)}return{value:e,source:n,stack:zs(n)}}var Sn=[],Js=0,Ah=0;function ru(){for(var e=Js,n=Ah=Js=0;n<e;){var s=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ag(s,h,f)}}function su(e,n,s,o){Sn[Js++]=e,Sn[Js++]=n,Sn[Js++]=s,Sn[Js++]=o,Ah|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sh(e,n,s,o){return su(e,n,s,o),au(e)}function Ws(e,n){return su(e,null,null,n),au(e)}function ag(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-je(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function au(e){if(50<Go)throw Go=0,Of=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ta={};function lT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,s,o){return new lT(e,n,s,o)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,n){var s=e.alternate;return s===null?(s=ln(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ou(e,n,s,o,h,f){var v=0;if(o=e,typeof e=="function")bh(e)&&(v=1);else if(typeof e=="string")v=cA(e,s,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=ln(31,s,n,h),e.elementType=R,e.lanes=f,e;case X:return ls(s.children,h,f,n);case nt:v=8,h|=24;break;case Z:return e=ln(12,s,n,h|2),e.elementType=Z,e.lanes=f,e;case _t:return e=ln(13,s,n,h),e.elementType=_t,e.lanes=f,e;case Vt:return e=ln(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ot:v=10;break t;case ft:v=9;break t;case Nt:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=ln(v,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ls(e,n,s,o){return e=ln(7,e,o,n),e.lanes=s,e}function Rh(e,n,s){return e=ln(6,e,null,n),e.lanes=s,e}function wh(e,n,s){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ea=[],na=0,lu=null,uu=0,bn=[],Rn=0,us=null,Si=1,bi="";function cs(e,n){ea[na++]=uu,ea[na++]=lu,lu=e,uu=n}function lg(e,n,s){bn[Rn++]=Si,bn[Rn++]=bi,bn[Rn++]=us,us=e;var o=Si;e=bi;var h=32-je(o)-1;o&=~(1<<h),s+=1;var f=32-je(n)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Si=1<<32-je(n)+h|s<<h|o,bi=f+e}else Si=1<<f|s<<h|o,bi=e}function Ih(e){e.return!==null&&(cs(e,1),lg(e,1,0))}function Ch(e){for(;e===lu;)lu=ea[--na],ea[na]=null,uu=ea[--na],ea[na]=null;for(;e===us;)us=bn[--Rn],bn[Rn]=null,bi=bn[--Rn],bn[Rn]=null,Si=bn[--Rn],bn[Rn]=null}var Ze=null,se=null,zt=!1,hs=null,$n=!1,Dh=Error(a(519));function fs(e){var n=Error(a(418,""));throw Ao(An(n,e)),Dh}function ug(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[fe]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<Qo.length;s++)Ct(Qo[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),$r(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Bs(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Zr(n,o.value,o.defaultValue,o.children),Bs(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||wy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||fs(e)}function cg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function Eo(e){if(e!==Ze)return!1;if(!zt)return cg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qf(e.type,e.memoizedProps)),s=!s),s&&se&&fs(e),cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){se=xn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}se=null}}else n===27?(n=se,dr(e.type)?(e=$f,$f=null,se=e):se=n):se=Ze?xn(e.stateNode.nextSibling):null;return!0}function To(){se=Ze=null,zt=!1}function hg(){var e=hs;return e!==null&&(en===null?en=e:en.push.apply(en,e),hs=null),e}function Ao(e){hs===null?hs=[e]:hs.push(e)}var Oh=Y(null),ds=null,Ri=null;function Ji(e,n,s){J(Oh,n._currentValue),n._currentValue=s}function wi(e){e._currentValue=Oh.current,et(Oh)}function Nh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Vh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Nh(f.return,s,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Nh(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function So(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jo):e=[Jo])}h=h.return}e!==null&&Vh(n,e,s,o),n.flags|=262144}function cu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){ds=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return fg(ds,e)}function hu(e,n){return ds===null&&ms(e),fg(e,n)}function fg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ri===null){if(e===null)throw Error(a(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return s}var uT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},cT=r.unstable_scheduleCallback,hT=r.unstable_NormalPriority,Ee={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new uT,data:new Map,refCount:0}}function bo(e){e.refCount--,e.refCount===0&&cT(hT,function(){e.controller.abort()})}var Ro=null,xh=0,ia=0,ra=null;function fT(e,n){if(Ro===null){var s=Ro=[];xh=0,ia=kf(),ra={status:"pending",value:void 0,then:function(o){s.push(o)}}}return xh++,n.then(dg,dg),n}function dg(){if(--xh===0&&Ro!==null){ra!==null&&(ra.status="fulfilled");var e=Ro;Ro=null,ia=0,ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var mg=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&fT(e,n),mg!==null&&mg(e,n)};var gs=Y(null);function Ph(){var e=gs.current;return e!==null?e:Jt.pooledCache}function fu(e,n){n===null?J(gs,gs.current):J(gs,n.pool)}function gg(){var e=Ph();return e===null?null:{parent:Ee._currentValue,pool:e}}var wo=Error(a(460)),pg=Error(a(474)),du=Error(a(542)),Uh={then:function(){}};function yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function _g(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(mu,mu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Eg(e),e;default:if(typeof n.status=="string")n.then(mu,mu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Eg(e),e}throw Io=n,wo}}var Io=null;function vg(){if(Io===null)throw Error(a(459));var e=Io;return Io=null,e}function Eg(e){if(e===wo||e===du)throw Error(a(483))}var Wi=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=au(e),ag(e,null,s),n}return su(e,o,n,s),au(e)}function Co(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,eo(e,s)}}function zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Bh=!1;function Do(){if(Bh){var e=ra;if(e!==null)throw e}}function Oo(e,n,s,o){Bh=!1;var h=e.updateQueue;Wi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;v=0,G=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Pt&z)===z:(o&z)===z){z!==0&&z===ia&&(Bh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=e,ct=E;z=n;var Yt=s;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Q=mt.call(Yt,Q,z);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,z=typeof mt=="function"?mt.call(Yt,Q,z):mt,z==null)break t;Q=A({},Q,z);break t;case 2:Wi=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ur|=v,e.lanes=v,e.memoizedState=Q}}function Tg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ag(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Tg(s[e],n)}var sa=Y(null),gu=Y(0);function Sg(e,n){e=Mi,J(gu,e),J(sa,n),Mi=e|n.baseLanes}function jh(){J(gu,Mi),J(sa,sa.current)}function qh(){Mi=gu.current,et(sa),et(gu)}var nr=0,St=null,Qt=null,me=null,pu=!1,aa=!1,ps=!1,yu=0,No=0,oa=null,mT=0;function ue(){throw Error(a(321))}function Hh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!on(e[s],n[s]))return!1;return!0}function Gh(e,n,s,o,h,f){return nr=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?ap:op,ps=!1,f=s(o,h),ps=!1,aa&&(f=Rg(n,s,o,h)),bg(e),f}function bg(e){H.H=Su;var n=Qt!==null&&Qt.next!==null;if(nr=0,me=Qt=St=null,pu=!1,No=0,oa=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&cu(e)&&(Ce=!0))}function Rg(e,n,s,o){St=e;var h=0;do{if(aa&&(oa=null),No=0,aa=!1,25<=h)throw Error(a(301));if(h+=1,me=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=TT,f=n(s,o)}while(aa);return f}function gT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Vo(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(St.flags|=1024),n}function Fh(){var e=yu!==0;return yu=0,e}function Qh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Kh(e){if(pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}pu=!1}nr=0,me=Qt=St=null,aa=!1,No=yu=0,oa=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=e:me=me.next=e,me}function ge(){if(Qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Qt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?St.memoizedState=me=e:me=me.next=e}return me}function Yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var n=No;return No+=1,oa===null&&(oa=[]),e=_g(oa,e,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ap:op),e}function _u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===ot)return qe(e)}throw Error(a(438,String(e)))}function Xh(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Yh(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function Ii(e,n){return typeof n=="function"?n(e):n}function vu(e){var n=ge();return $h(n,Qt,e)}function $h(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=v=null,b=null,L=n,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Pt&Q)===Q:(nr&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ia&&(G=!0);else if((nr&z)===z){L=L.next,z===ia&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=f):b=b.next=Q,St.lanes|=z,ur|=z;Q=L.action,ps&&s(f,Q),f=L.hasEagerState?L.eagerState:s(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,St.lanes|=Q,ur|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?v=f:b.next=E,!on(f,e.memoizedState)&&(Ce=!0,G&&(s=ra,s!==null)))throw s;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Zh(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);on(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function wg(e,n,s){var o=St,h=ge(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!on((Qt||h).memoizedState,s);v&&(h.memoizedState=s,Ce=!0),h=h.queue;var E=Dg.bind(null,o,h,e);if(Mo(2048,8,E,[e]),h.getSnapshot!==n||v||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,la(9,Eu(),Cg.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(nr&124)!==0||Ig(o,n,s)}return s}function Ig(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Yh(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Cg(e,n,s,o){n.value=s,n.getSnapshot=o,Og(n)&&Ng(e)}function Dg(e,n,s){return s(function(){Og(n)&&Ng(e)})}function Og(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!on(e,s)}catch{return!0}}function Ng(e){var n=Ws(e,2);n!==null&&dn(n,e,2)}function Jh(e){var n=We();if(typeof e=="function"){var s=e;if(e=s(),ps){sn(!0);try{s()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Vg(e,n,s,o){return e.baseState=s,$h(e,Qt,typeof o=="function"?o:Ii)}function pT(e,n,s,o,h){if(Au(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Mg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Mg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=s(h,o),b=H.S;b!==null&&b(v,E),xg(e,n,E)}catch(L){Wh(e,n,L)}finally{H.T=f}}else try{f=s(h,o),xg(e,n,f)}catch(L){Wh(e,n,L)}}function xg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Pg(e,n,o)},function(o){return Wh(e,n,o)}):Pg(e,n,s)}function Pg(e,n,s){n.status="fulfilled",n.value=s,Ug(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Mg(e,s)))}function Wh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ug(n),n=n.next;while(n!==o)}e.action=null}function Ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kg(e,n){return n}function Lg(e,n){if(zt){var s=Jt.formState;if(s!==null){t:{var o=St;if(zt){if(se){e:{for(var h=se,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=xn(h.nextSibling),o=h.data==="F!";break t}}fs(o)}o=!1}o&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},s.queue=o,s=ip.bind(null,St,o),o.dispatch=s,o=Jh(!1),f=sf.bind(null,St,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=pT.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function zg(e){var n=ge();return Bg(n,Qt,e)}function Bg(e,n,s){if(n=$h(e,n,kg)[0],e=vu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Vo(n)}catch(v){throw v===wo?du:v}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,la(9,Eu(),yT.bind(null,h,s),null)),[o,f,e]}function yT(e,n){e.action=n}function jg(e){var n=ge(),s=Qt;if(s!==null)return Bg(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function la(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Yh(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Eu(){return{destroy:void 0,resource:void 0}}function qg(){return ge().memoizedState}function Tu(e,n,s,o){var h=We();o=o===void 0?null:o,St.flags|=e,h.memoizedState=la(1|n,Eu(),s,o)}function Mo(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&Hh(o,Qt.memoizedState.deps)?h.memoizedState=la(n,f,s,o):(St.flags|=e,h.memoizedState=la(1|n,f,s,o))}function Hg(e,n){Tu(8390656,8,e,n)}function Gg(e,n){Mo(2048,8,e,n)}function Fg(e,n){return Mo(4,2,e,n)}function Qg(e,n){return Mo(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yg(e,n,s){s=s!=null?s.concat([e]):null,Mo(4,4,Kg.bind(null,n,e),s)}function tf(){}function Xg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Hh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function $g(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Hh(n,o[1]))return o[0];if(o=e(),ps){sn(!0);try{e()}finally{sn(!1)}}return s.memoizedState=[o,n],o}function ef(e,n,s){return s===void 0||(nr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Wp(),St.lanes|=e,ur|=e,s)}function Zg(e,n,s,o){return on(s,n)?s:sa.current!==null?(e=ef(e,s,o),on(e,n)||(Ce=!0),e):(nr&42)===0?(Ce=!0,e.memoizedState=s):(e=Wp(),St.lanes|=e,ur|=e,n)}function Jg(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,sf(e,!1,n,s);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=dT(b,o);xo(e,n,G,fn(e))}else xo(e,n,o,fn(e))}catch(Q){xo(e,n,{then:function(){},status:"rejected",reason:Q},fn())}finally{tt.p=f,H.T=v}}function _T(){}function nf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Wg(e).queue;Jg(e,h,n,at,s===null?_T:function(){return tp(e),s(o)})}function Wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:at},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tp(e){var n=Wg(e).next.queue;xo(e,n,{},fn())}function rf(){return qe(Jo)}function ep(){return ge().memoizedState}function np(){return ge().memoizedState}function vT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=fn();e=tr(s);var o=er(n,e,s);o!==null&&(dn(o,n,s),Co(o,n,s)),n={cache:Mh()},e.payload=n;return}n=n.return}}function ET(e,n,s){var o=fn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Au(e)?rp(n,s):(s=Sh(e,n,s,o),s!==null&&(dn(s,e,o),sp(s,n,o)))}function ip(e,n,s){var o=fn();xo(e,n,s,o)}function xo(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Au(e))rp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,s);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return su(e,n,h,0),Jt===null&&ru(),!1}catch{}finally{}if(s=Sh(e,n,h,o),s!==null)return dn(s,e,o),sp(s,n,o),!0}return!1}function sf(e,n,s,o){if(o={lane:2,revertLane:kf(),action:o,hasEagerState:!1,eagerState:null,next:null},Au(e)){if(n)throw Error(a(479))}else n=Sh(e,s,o,2),n!==null&&dn(n,e,2)}function Au(e){var n=e.alternate;return e===St||n!==null&&n===St}function rp(e,n){aa=pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function sp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,eo(e,s)}}var Su={readContext:qe,use:_u,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ap={readContext:qe,use:_u,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Hg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Tu(4194308,4,Kg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Tu(4194308,4,e,n)},useInsertionEffect:function(e,n){Tu(4,2,e,n)},useMemo:function(e,n){var s=We();n=n===void 0?null:n;var o=e();if(ps){sn(!0);try{e()}finally{sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=We();if(s!==void 0){var h=s(n);if(ps){sn(!0);try{s(n)}finally{sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ET.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=Jh(e);var n=e.queue,s=ip.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:tf,useDeferredValue:function(e,n){var s=We();return ef(s,e,n)},useTransition:function(){var e=Jh(!1);return e=Jg.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=We();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Pt&124)!==0||Ig(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Hg(Dg.bind(null,o,f,e),[e]),o.flags|=2048,la(9,Eu(),Cg.bind(null,o,f,s,n),null),s},useId:function(){var e=We(),n=Jt.identifierPrefix;if(zt){var s=bi,o=Si;s=(o&~(1<<32-je(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=yu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=mT++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:rf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=sf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:Xh,useCacheRefresh:function(){return We().memoizedState=vT.bind(null,St)}},op={readContext:qe,use:_u,useCallback:Xg,useContext:qe,useEffect:Gg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:$g,useReducer:vu,useRef:qg,useState:function(){return vu(Ii)},useDebugValue:tf,useDeferredValue:function(e,n){var s=ge();return Zg(s,Qt.memoizedState,e,n)},useTransition:function(){var e=vu(Ii)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Vo(e),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:rf,useFormState:zg,useActionState:zg,useOptimistic:function(e,n){var s=ge();return Vg(s,Qt,e,n)},useMemoCache:Xh,useCacheRefresh:np},TT={readContext:qe,use:_u,useCallback:Xg,useContext:qe,useEffect:Gg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:$g,useReducer:Zh,useRef:qg,useState:function(){return Zh(Ii)},useDebugValue:tf,useDeferredValue:function(e,n){var s=ge();return Qt===null?ef(s,e,n):Zg(s,Qt.memoizedState,e,n)},useTransition:function(){var e=Zh(Ii)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Vo(e),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:rf,useFormState:jg,useActionState:jg,useOptimistic:function(e,n){var s=ge();return Qt!==null?Vg(s,Qt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:np},ua=null,Po=0;function bu(e){var n=Po;return Po+=1,ua===null&&(ua=[]),_g(ua,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===I?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){var n=e._init;return n(e._payload)}function up(e){function n(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function s(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ai(x,O),x.index=0,x.sibling=null,x}function f(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,k,F){return O===null||O.tag!==6?(O=Rh(k,x.mode,F),O.return=x,O):(O=h(O,k),O.return=x,O)}function b(x,O,k,F){var rt=k.type;return rt===X?G(x,O,k.props.children,F,k.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&lp(rt)===O.type)?(O=h(O,k.props),Uo(O,k),O.return=x,O):(O=ou(k.type,k.key,k.props,null,x.mode,F),Uo(O,k),O.return=x,O)}function L(x,O,k,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=wh(k,x.mode,F),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function G(x,O,k,F,rt){return O===null||O.tag!==7?(O=ls(k,x.mode,F,rt),O.return=x,O):(O=h(O,k),O.return=x,O)}function Q(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Rh(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return k=ou(O.type,O.key,O.props,null,x.mode,k),Uo(k,O),k.return=x,k;case q:return O=wh(O,x.mode,k),O.return=x,O;case S:var F=O._init;return O=F(O._payload),Q(x,O,k)}if(ie(O)||P(O))return O=ls(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return Q(x,bu(O),k);if(O.$$typeof===ot)return Q(x,hu(x,O),k);Ru(x,O)}return null}function z(x,O,k,F){var rt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return rt!==null?null:E(x,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===rt?b(x,O,k,F):null;case q:return k.key===rt?L(x,O,k,F):null;case S:return rt=k._init,k=rt(k._payload),z(x,O,k,F)}if(ie(k)||P(k))return rt!==null?null:G(x,O,k,F,null);if(typeof k.then=="function")return z(x,O,bu(k),F);if(k.$$typeof===ot)return z(x,O,hu(x,k),F);Ru(x,k)}return null}function B(x,O,k,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(k)||null,E(O,x,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return x=x.get(F.key===null?k:F.key)||null,b(O,x,F,rt);case q:return x=x.get(F.key===null?k:F.key)||null,L(O,x,F,rt);case S:var wt=F._init;return F=wt(F._payload),B(x,O,k,F,rt)}if(ie(F)||P(F))return x=x.get(k)||null,G(O,x,F,rt,null);if(typeof F.then=="function")return B(x,O,k,bu(F),rt);if(F.$$typeof===ot)return B(x,O,k,hu(O,F),rt);Ru(O,F)}return null}function mt(x,O,k,F){for(var rt=null,wt=null,st=O,dt=O=0,Oe=null;st!==null&&dt<k.length;dt++){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var kt=z(x,st,k[dt],F);if(kt===null){st===null&&(st=Oe);break}e&&st&&kt.alternate===null&&n(x,st),O=f(kt,O,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt,st=Oe}if(dt===k.length)return s(x,st),zt&&cs(x,dt),rt;if(st===null){for(;dt<k.length;dt++)st=Q(x,k[dt],F),st!==null&&(O=f(st,O,dt),wt===null?rt=st:wt.sibling=st,wt=st);return zt&&cs(x,dt),rt}for(st=o(st);dt<k.length;dt++)Oe=B(st,x,dt,k[dt],F),Oe!==null&&(e&&Oe.alternate!==null&&st.delete(Oe.key===null?dt:Oe.key),O=f(Oe,O,dt),wt===null?rt=Oe:wt.sibling=Oe,wt=Oe);return e&&st.forEach(function(_r){return n(x,_r)}),zt&&cs(x,dt),rt}function ct(x,O,k,F){if(k==null)throw Error(a(151));for(var rt=null,wt=null,st=O,dt=O=0,Oe=null,kt=k.next();st!==null&&!kt.done;dt++,kt=k.next()){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var _r=z(x,st,kt.value,F);if(_r===null){st===null&&(st=Oe);break}e&&st&&_r.alternate===null&&n(x,st),O=f(_r,O,dt),wt===null?rt=_r:wt.sibling=_r,wt=_r,st=Oe}if(kt.done)return s(x,st),zt&&cs(x,dt),rt;if(st===null){for(;!kt.done;dt++,kt=k.next())kt=Q(x,kt.value,F),kt!==null&&(O=f(kt,O,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt);return zt&&cs(x,dt),rt}for(st=o(st);!kt.done;dt++,kt=k.next())kt=B(st,x,dt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&st.delete(kt.key===null?dt:kt.key),O=f(kt,O,dt),wt===null?rt=kt:wt.sibling=kt,wt=kt);return e&&st.forEach(function(AA){return n(x,AA)}),zt&&cs(x,dt),rt}function Yt(x,O,k,F){if(typeof k=="object"&&k!==null&&k.type===X&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:t:{for(var rt=k.key;O!==null;){if(O.key===rt){if(rt=k.type,rt===X){if(O.tag===7){s(x,O.sibling),F=h(O,k.props.children),F.return=x,x=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&lp(rt)===O.type){s(x,O.sibling),F=h(O,k.props),Uo(F,k),F.return=x,x=F;break t}s(x,O);break}else n(x,O);O=O.sibling}k.type===X?(F=ls(k.props.children,x.mode,F,k.key),F.return=x,x=F):(F=ou(k.type,k.key,k.props,null,x.mode,F),Uo(F,k),F.return=x,x=F)}return v(x);case q:t:{for(rt=k.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(x,O.sibling),F=h(O,k.children||[]),F.return=x,x=F;break t}else{s(x,O);break}else n(x,O);O=O.sibling}F=wh(k,x.mode,F),F.return=x,x=F}return v(x);case S:return rt=k._init,k=rt(k._payload),Yt(x,O,k,F)}if(ie(k))return mt(x,O,k,F);if(P(k)){if(rt=P(k),typeof rt!="function")throw Error(a(150));return k=rt.call(k),ct(x,O,k,F)}if(typeof k.then=="function")return Yt(x,O,bu(k),F);if(k.$$typeof===ot)return Yt(x,O,hu(x,k),F);Ru(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(x,O.sibling),F=h(O,k),F.return=x,x=F):(s(x,O),F=Rh(k,x.mode,F),F.return=x,x=F),v(x)):s(x,O)}return function(x,O,k,F){try{Po=0;var rt=Yt(x,O,k,F);return ua=null,rt}catch(st){if(st===wo||st===du)throw st;var wt=ln(29,st,null,x.mode);return wt.lanes=F,wt.return=x,wt}finally{}}}var ca=up(!0),cp=up(!1),wn=Y(null),Zn=null;function ir(e){var n=e.alternate;J(Te,Te.current&1),J(wn,e),Zn===null&&(n===null||sa.current!==null||n.memoizedState!==null)&&(Zn=e)}function hp(e){if(e.tag===22){if(J(Te,Te.current),J(wn,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else rr()}function rr(){J(Te,Te.current),J(wn,wn.current)}function Ci(e){et(wn),Zn===e&&(Zn=null),et(Te)}var Te=Y(0);function wu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Xf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function af(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var of={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=fn(),h=tr(o);h.payload=n,s!=null&&(h.callback=s),n=er(e,h,o),n!==null&&(dn(n,e,o),Co(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=fn(),h=tr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=er(e,h,o),n!==null&&(dn(n,e,o),Co(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=fn(),o=tr(s);o.tag=2,n!=null&&(o.callback=n),n=er(e,o,s),n!==null&&(dn(n,e,s),Co(n,e,s))}};function fp(e,n,s,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!_o(s,o)||!_o(h,f):!0}function dp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&of.enqueueReplaceState(n,n.state,null)}function ys(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mp(e){Iu(e)}function gp(e){console.error(e)}function pp(e){Iu(e)}function Cu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function yp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lf(e,n,s){return s=tr(s),s.tag=3,s.payload={element:null},s.callback=function(){Cu(e,n)},s}function _p(e){return e=tr(e),e.tag=3,e}function vp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){yp(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){yp(n,s,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function AT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&So(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 13:return Zn===null?Vf():s.alternate===null&&ae===0&&(ae=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),xf(e,o,h)),!1;case 22:return s.flags|=65536,o===Uh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),xf(e,o,h)),!1}throw Error(a(435,s.tag))}return xf(e,o,h),Vf(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Dh&&(e=Error(a(422),{cause:o}),Ao(An(e,s)))):(o!==Dh&&(n=Error(a(423),{cause:o}),Ao(An(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=An(o,s),h=lf(e.stateNode,o,h),zh(e,h),ae!==4&&(ae=2)),!1;var f=Error(a(520),{cause:o});if(f=An(f,s),Ho===null?Ho=[f]:Ho.push(f),ae!==4&&(ae=2),n===null)return!0;o=An(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=lf(s.stateNode,o,e),zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=_p(h),vp(h,e,s,o),zh(s,h),!1}s=s.return}while(s!==null);return!1}var Ep=Error(a(461)),Ce=!1;function Pe(e,n,s,o){n.child=e===null?cp(n,null,s,o):ca(n,e.child,s,o)}function Tp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ms(n),o=Gh(e,n,s,v,f,h),E=Fh(),e!==null&&!Ce?(Qh(e,n,h),Di(e,n,h)):(zt&&E&&Ih(n),n.flags|=1,Pe(e,n,o,h),n.child)}function Ap(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Sp(e,n,f,o,h)):(e=ou(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!pf(e,h)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:_o,s(v,o)&&e.ref===n.ref)return Di(e,n,h)}return n.flags|=1,e=Ai(f,o),e.ref=n.ref,e.return=n,n.child=e}function Sp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(_o(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,pf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Di(e,n,h)}return uf(e,n,s,o,h)}function bp(e,n,s){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Rp(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,f!==null?f.cachePool:null),f!==null?Sg(n,f):jh(),hp(n);else return n.lanes=n.childLanes=536870912,Rp(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(fu(n,f.cachePool),Sg(n,f),rr(),n.memoizedState=null):(e!==null&&fu(n,null),jh(),rr());return Pe(e,n,h,s),n.child}function Rp(e,n,s,o){var h=Ph();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&fu(n,null),jh(),hp(n),e!==null&&So(e,n,o,!0),null}function Du(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function uf(e,n,s,o,h){return ms(n),s=Gh(e,n,s,o,void 0,h),o=Fh(),e!==null&&!Ce?(Qh(e,n,h),Di(e,n,h)):(zt&&o&&Ih(n),n.flags|=1,Pe(e,n,s,h),n.child)}function wp(e,n,s,o,h,f){return ms(n),n.updateQueue=null,s=Rg(n,o,s,h),bg(e),o=Fh(),e!==null&&!Ce?(Qh(e,n,f),Di(e,n,f)):(zt&&o&&Ih(n),n.flags|=1,Pe(e,n,s,f),n.child)}function Ip(e,n,s,o,h){if(ms(n),n.stateNode===null){var f=ta,v=s.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},kh(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?qe(v):ta,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(af(n,s,v,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&of.enqueueReplaceState(f,f.state,null),Oo(n,o,f,h),Do(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ys(s,E);f.props=b;var L=f.context,G=s.contextType;v=ta,typeof G=="object"&&G!==null&&(v=qe(G));var Q=s.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&dp(n,f,o,v),Wi=!1;var z=n.memoizedState;f.state=z,Oo(n,o,f,h),Do(),L=n.memoizedState,E||z!==L||Wi?(typeof Q=="function"&&(af(n,s,Q,o),L=n.memoizedState),(b=Wi||fp(n,s,b,o,z,L,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Lh(e,n),v=n.memoizedProps,G=ys(s,v),f.props=G,Q=n.pendingProps,z=f.context,L=s.contextType,b=ta,typeof L=="object"&&L!==null&&(b=qe(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&dp(n,f,o,b),Wi=!1,z=n.memoizedState,f.state=z,Oo(n,o,f,h),Do();var B=n.memoizedState;v!==Q||z!==B||Wi||e!==null&&e.dependencies!==null&&cu(e.dependencies)?(typeof E=="function"&&(af(n,s,E,o),B=n.memoizedState),(G=Wi||fp(n,s,G,o,z,B,b)||e!==null&&e.dependencies!==null&&cu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Du(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ca(n,e.child,null,h),n.child=ca(n,null,s,h)):Pe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Di(e,n,h),e}function Cp(e,n,s,o){return To(),n.flags|=256,Pe(e,n,s,o),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(e){return{baseLanes:e,cachePool:gg()}}function ff(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function Dp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?ir(n):rr(),zt){var E=se,b;if(b=E){t:{for(b=E,E=$n;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:us!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,se=null,b=!0):b=!1}b||fs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Xf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=o.children,o=o.fallback,h?(rr(),h=n.mode,E=Ou({mode:"hidden",children:E},h),o=ls(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=hf(s),h.childLanes=ff(e,v,s),n.memoizedState=cf,o):(ir(n),df(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ir(n),n.flags&=-257,n=mf(e,n,s)):n.memoizedState!==null?(rr(),n.child=e.child,n.flags|=128,n=null):(rr(),h=o.fallback,E=n.mode,o=Ou({mode:"visible",children:o.children},E),h=ls(h,E,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ca(n,e.child,null,s),o=n.child,o.memoizedState=hf(s),o.childLanes=ff(e,v,s),n.memoizedState=cf,n=h);else if(ir(n),Xf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(a(419)),o.stack="",o.digest=v,Ao({value:o,source:null,stack:null}),n=mf(e,n,s)}else if(Ce||So(e,n,s,!1),v=(s&e.childLanes)!==0,Ce||v){if(v=Jt,v!==null&&(o=s&-s,o=(o&42)!==0?1:Fi(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Ws(e,o),dn(v,e,o),Ep;E.data==="$?"||Vf(),n=mf(e,n,s)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,se=xn(E.nextSibling),Ze=n,zt=!0,hs=null,$n=!1,e!==null&&(bn[Rn++]=Si,bn[Rn++]=bi,bn[Rn++]=us,Si=e.id,bi=e.overflow,us=n),n=df(n,o.children),n.flags|=4096);return n}return h?(rr(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ai(L,h):(h=ls(h,E,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=hf(s):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=gg(),E={baseLanes:E.baseLanes|s,cachePool:b}),h.memoizedState=E,h.childLanes=ff(e,v,s),n.memoizedState=cf,o):(ir(n),s=e.child,e=s.sibling,s=Ai(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function df(e,n){return n=Ou({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ou(e,n){return e=ln(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mf(e,n,s){return ca(n,e.child,null,s),e=df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Op(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Nh(e.return,n,s)}function gf(e,n,s,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=h)}function Np(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,n,o.children,s),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,s,n);else if(e.tag===19)Op(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Te,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&wu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),gf(n,!1,h,s,f);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&wu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}gf(n,!0,s,null,f);break;case"together":gf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ur|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(So(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ai(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ai(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&cu(e)))}function ST(e,n,s){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Ji(n,Ee,e.memoizedState.cache),To();break;case 27:case 5:Gi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Dp(e,n,s):(ir(n),e=Di(e,n,s),e!==null?e.sibling:null);ir(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(So(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Np(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,bp(e,n,s);case 24:Ji(n,Ee,e.memoizedState.cache)}return Di(e,n,s)}function Vp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!pf(e,s)&&(n.flags&128)===0)return Ce=!1,ST(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&lg(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")bh(o)?(e=ys(o,e),n.tag=1,n=Ip(null,n,o,e,s)):(n.tag=0,n=uf(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===Nt){n.tag=11,n=Tp(null,n,o,e,s);break t}else if(h===V){n.tag=14,n=Ap(null,n,o,e,s);break t}}throw n=Ve(o)||o,Error(a(306,n,""))}}return n;case 0:return uf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ys(o,n.pendingProps),Ip(e,n,o,h,s);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Lh(e,n),Oo(n,o,null,s);var v=n.memoizedState;if(o=v.cache,Ji(n,Ee,o),o!==f.cache&&Vh(n,[Ee],s,!0),Do(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,o,s);break t}else if(o!==h){h=An(Error(a(424)),n),Ao(h),n=Cp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=xn(e.firstChild),Ze=n,zt=!0,hs=null,$n=!0,s=cp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(To(),o===h){n=Di(e,n,s);break t}Pe(e,n,o,s)}n=n.child}return n;case 26:return Du(e,n),e===null?(s=Uy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=Gu(yt.current).createElement(s),o[ye]=n,o[fe]=e,ke(o,s,e),le(o),n.stateNode=o):n.memoizedState=Uy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Gi(n),e===null&&zt&&(o=n.stateNode=My(n.type,n.pendingProps,yt.current),Ze=n,$n=!0,h=se,dr(n.type)?($f=h,se=xn(o.firstChild)):se=h),Pe(e,n,n.pendingProps.children,s),Du(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=se)&&(o=ZT(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,Ze=n,se=xn(o.firstChild),$n=!1,h=!0):h=!1),h||fs(n)),Gi(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Qf(h,f)?o=null:v!==null&&Qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Gh(e,n,gT,null,null,s),Jo._currentValue=h),Du(e,n),Pe(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=se)&&(s=JT(s,n.pendingProps,$n),s!==null?(n.stateNode=s,Ze=n,se=null,e=!0):e=!1),e||fs(n)),null;case 13:return Dp(e,n,s);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ca(n,null,o,s):Pe(e,n,o,s),n.child;case 11:return Tp(e,n,n.type,n.pendingProps,s);case 7:return Pe(e,n,n.pendingProps,s),n.child;case 8:return Pe(e,n,n.pendingProps.children,s),n.child;case 12:return Pe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ji(n,n.type,o.value),Pe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ms(n),h=qe(h),o=o(h),n.flags|=1,Pe(e,n,o,s),n.child;case 14:return Ap(e,n,n.type,n.pendingProps,s);case 15:return Sp(e,n,n.type,n.pendingProps,s);case 19:return Np(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Ou(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ai(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return bp(e,n,s);case 24:return ms(n),o=qe(Ee),e===null?(h=Ph(),h===null&&(h=Jt,f=Mh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},kh(n),Ji(n,Ee,h)):((e.lanes&s)!==0&&(Lh(e,n),Oo(n,null,null,s),Do()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ji(n,Ee,o)):(o=f.cache,Ji(n,Ee,o),o!==h.cache&&Vh(n,[Ee],s,!0))),Pe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Oi(e){e.flags|=4}function Mp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jy(n)){if(n=wn.current,n!==null&&((Pt&4194048)===Pt?Zn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==Zn))throw Io=Uh,pg;e.flags|=8192}}function Nu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wa():536870912,e.lanes|=n,ma|=n)}function ko(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function bT(e,n,s){var o=n.pendingProps;switch(Ch(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wi(Ee),Ln(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Eo(n)?Oi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hg())),ee(n),null;case 26:return s=n.memoizedState,e===null?(Oi(n),s!==null?(ee(n),Mp(n,s)):(ee(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Oi(n),ee(n),Mp(n,s)):(ee(n),n.flags&=-16777217):(e.memoizedProps!==o&&Oi(n),ee(n),n.flags&=-16777217),null;case 27:ui(n),s=yt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=lt.current,Eo(n)?ug(n):(e=My(h,o,s),n.stateNode=e,Oi(n))}return ee(n),null;case 5:if(ui(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(e=lt.current,Eo(n))ug(n);else{switch(h=Gu(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[ye]=n,e[fe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,Eo(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||wy(e.nodeValue,s)),e||fs(n)}else e=Gu(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Eo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=hg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Nu(n,n.updateQueue),ee(n),null;case 4:return Ln(),e===null&&jf(n.stateNode.containerInfo),ee(n),null;case 10:return wi(n.type),ee(n),null;case 19:if(et(Te),h=n.memoizedState,h===null)return ee(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)ko(h,!1);else{if(ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=wu(e),f!==null){for(n.flags|=128,ko(h,!1),e=f.updateQueue,n.updateQueue=e,Nu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)og(s,e),s=s.sibling;return J(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&pn()>xu&&(n.flags|=128,o=!0,ko(h,!1),n.lanes=4194304)}else{if(!o)if(e=wu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Nu(n,e),ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return ee(n),null}else 2*pn()-h.renderingStartTime>xu&&s!==536870912&&(n.flags|=128,o=!0,ko(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=pn(),n.sibling=null,e=Te.current,J(Te,o?e&1|2:e&1),n):(ee(n),null);case 22:case 23:return Ci(n),qh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Nu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&et(gs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),wi(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function RT(e,n){switch(Ch(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(Ee),Ln(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ci(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));To()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Te),null;case 4:return Ln(),null;case 10:return wi(n.type),null;case 22:case 23:return Ci(n),qh(),e!==null&&et(gs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(Ee),null;case 25:return null;default:return null}}function xp(e,n){switch(Ch(n),n.tag){case 3:wi(Ee),Ln();break;case 26:case 27:case 5:ui(n);break;case 4:Ln();break;case 13:Ci(n);break;case 19:et(Te);break;case 10:wi(n.type);break;case 22:case 23:Ci(n),qh(),e!==null&&et(gs);break;case 24:wi(Ee)}}function Lo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function sr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var b=s,L=E;try{L()}catch(G){Xt(h,b,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function Pp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ag(n,s)}catch(o){Xt(e,e.return,o)}}}function Up(e,n,s){s.props=ys(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Jn(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function kp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function yf(e,n,s){try{var o=e.stateNode;QT(o,e.type,s,n),o[fe]=n}catch(h){Xt(e,e.return,h)}}function Lp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function _f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hu));else if(o!==4&&(o===27&&dr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(vf(e,n,s),e=e.sibling;e!==null;)vf(e,n,s),e=e.sibling}function Vu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&dr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Vu(e,n,s),e=e.sibling;e!==null;)Vu(e,n,s),e=e.sibling}function zp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,o,s),n[ye]=e,n[fe]=s}catch(f){Xt(e,e.return,f)}}var Ni=!1,ce=!1,Ef=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,De=null;function wT(e,n){if(e=e.containerInfo,Gf=$u,e=Zm(e),yh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==s||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===s&&++L===h&&(E=v),z===f&&++G===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}s=E===-1||b===-1?null:{start:E,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ff={focusedElem:e,selectionRange:s},$u=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var mt=ys(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(mt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Xt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Yf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function jp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ar(e,s),o&4&&Lo(5,s);break;case 1:if(ar(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){Xt(s,s.return,v)}else{var h=ys(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(s,s.return,v)}}o&64&&Pp(s),o&512&&zo(s,s.return);break;case 3:if(ar(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ag(e,n)}catch(v){Xt(s,s.return,v)}}break;case 27:n===null&&o&4&&zp(s);case 26:case 5:ar(e,s),n===null&&o&4&&kp(s),o&512&&zo(s,s.return);break;case 12:ar(e,s);break;case 13:ar(e,s),o&4&&Gp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=PT.bind(null,s),WT(e,s))));break;case 22:if(o=s.memoizedState!==null||Ni,!o){n=n!==null&&n.memoizedState!==null||ce,h=Ni;var f=ce;Ni=o,(ce=n)&&!f?or(e,s,(s.subtreeFlags&8772)!==0):ar(e,s),Ni=h,ce=f}break;case 30:break;default:ar(e,s)}}function qp(e){var n=e.alternate;n!==null&&(e.alternate=null,qp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,tn=!1;function Vi(e,n,s){for(s=s.child;s!==null;)Hp(e,n,s),s=s.sibling}function Hp(e,n,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(re,s)}catch{}switch(s.tag){case 26:ce||Jn(s,n),Vi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||Jn(s,n);var o=te,h=tn;dr(s.type)&&(te=s.stateNode,tn=!1),Vi(e,n,s),Yo(s.stateNode),te=o,tn=h;break;case 5:ce||Jn(s,n);case 6:if(o=te,h=tn,te=null,Vi(e,n,s),te=o,tn=h,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{te.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:te!==null&&(tn?(e=te,Ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),nl(e)):Ny(te,s.stateNode));break;case 4:o=te,h=tn,te=s.stateNode.containerInfo,tn=!0,Vi(e,n,s),te=o,tn=h;break;case 0:case 11:case 14:case 15:ce||sr(2,s,n),ce||sr(4,s,n),Vi(e,n,s);break;case 1:ce||(Jn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Up(s,n,o)),Vi(e,n,s);break;case 21:Vi(e,n,s);break;case 22:ce=(o=ce)||s.memoizedState!==null,Vi(e,n,s),ce=o;break;default:Vi(e,n,s)}}function Gp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(s){Xt(n,n.return,s)}}function IT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Bp),n;default:throw Error(a(435,e.tag))}}function Tf(e,n){var s=IT(e);n.forEach(function(o){var h=UT.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function un(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(dr(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(a(160));Hp(f,v,h),te=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}var Mn=null;function Fp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(sr(3,e,e.return),Lo(3,e),sr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(ce||s===null||Jn(s,s.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Mn;if(un(n,e),cn(e),o&512&&(ce||s===null||Jn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Qr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,o,s),f[ye]=e,le(f),o=f;break t;case"link":var v=zy("link","href",h).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),ke(f,o,s),h.head.appendChild(f);break;case"meta":if(v=zy("meta","content",h).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}f=h.createElement(o),ke(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,le(f),o=f}e.stateNode=o}else By(h,e.type,e.stateNode);else e.stateNode=Ly(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?By(h,e.type,e.stateNode):Ly(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yf(e,e.memoizedProps,s.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(ce||s===null||Jn(s,s.return)),s!==null&&o&4&&yf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(ce||s===null||Jn(s,s.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(B){Xt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,yf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(B){Xt(e,e.return,B)}}break;case 3:if(Ku=null,h=Mn,Mn=Fu(n.containerInfo),un(n,e),Mn=h,cn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(B){Xt(e,e.return,B)}Ef&&(Ef=!1,Qp(e));break;case 4:o=Mn,Mn=Fu(e.stateNode.containerInfo),un(n,e),cn(e),Mn=o;break;case 12:un(n,e),cn(e);break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(If=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 22:h=e.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,L=Ni,G=ce;if(Ni=L||h,ce=G||b,un(n,e),ce=G,Ni=L,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||b||Ni||ce||_s(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Xt(b,b.return,B)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Xt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Tf(e,s))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Lp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=_f(e);Vu(e,f,h);break;case 5:var v=s.stateNode;s.flags&32&&(_n(v,""),s.flags&=-33);var E=_f(e);Vu(e,E,v);break;case 3:case 4:var b=s.stateNode.containerInfo,L=_f(e);vf(e,L,b);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ar(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jp(e,n.alternate,n),n=n.sibling}function _s(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),_s(n);break;case 1:Jn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Up(n,n.return,s),_s(n);break;case 27:Yo(n.stateNode);case 26:case 5:Jn(n,n.return),_s(n);break;case 22:n.memoizedState===null&&_s(n);break;case 30:_s(n);break;default:_s(n)}e=e.sibling}}function or(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:or(h,f,s),Lo(4,f);break;case 1:if(or(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Xt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Tg(b[h],E)}catch(L){Xt(o,o.return,L)}}s&&v&64&&Pp(f),zo(f,f.return);break;case 27:zp(f);case 26:case 5:or(h,f,s),s&&o===null&&v&4&&kp(f),zo(f,f.return);break;case 12:or(h,f,s);break;case 13:or(h,f,s),s&&v&4&&Gp(h,f);break;case 22:f.memoizedState===null&&or(h,f,s),zo(f,f.return);break;case 30:break;default:or(h,f,s)}n=n.sibling}}function Af(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&bo(s))}function Sf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bo(e))}function Wn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(e,n,s,o),n=n.sibling}function Kp(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,o),h&2048&&Lo(9,n);break;case 1:Wn(e,n,s,o);break;case 3:Wn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bo(e)));break;case 12:if(h&2048){Wn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Wn(e,n,s,o);break;case 13:Wn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,o):Bo(e,n):f._visibility&2?Wn(e,n,s,o):(f._visibility|=2,ha(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Af(v,n);break;case 24:Wn(e,n,s,o),h&2048&&Sf(n.alternate,n);break;default:Wn(e,n,s,o)}}function ha(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=s,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:ha(f,v,E,b,h),Lo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?ha(f,v,E,b,h):Bo(f,v):(G._visibility|=2,ha(f,v,E,b,h)),h&&L&2048&&Af(v.alternate,v);break;case 24:ha(f,v,E,b,h),h&&L&2048&&Sf(v.alternate,v);break;default:ha(f,v,E,b,h)}n=n.sibling}}function Bo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Bo(s,o),h&2048&&Af(o.alternate,o);break;case 24:Bo(s,o),h&2048&&Sf(o.alternate,o);break;default:Bo(s,o)}n=n.sibling}}var jo=8192;function fa(e){if(e.subtreeFlags&jo)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 26:fa(e),e.flags&jo&&e.memoizedState!==null&&fA(Mn,e.memoizedState,e.memoizedProps);break;case 5:fa(e);break;case 3:case 4:var n=Mn;Mn=Fu(e.stateNode.containerInfo),fa(e),Mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=jo,jo=16777216,fa(e),jo=n):fa(e));break;default:fa(e)}}function Xp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function qo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];De=o,Zp(o,e)}Xp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$p(e),e=e.sibling}function $p(e){switch(e.tag){case 0:case 11:case 15:qo(e),e.flags&2048&&sr(9,e,e.return);break;case 3:qo(e);break;case 12:qo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Mu(e)):qo(e);break;default:qo(e)}}function Mu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];De=o,Zp(o,e)}Xp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Mu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Mu(n));break;default:Mu(n)}e=e.sibling}}function Zp(e,n){for(;De!==null;){var s=De;switch(s.tag){case 0:case 11:case 15:sr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:bo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,De=o;else t:for(s=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(qp(o),o===s){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var CT={getCacheForType:function(e){var n=qe(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},DT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,It=null,Pt=0,Gt=0,hn=null,lr=!1,da=!1,bf=!1,Mi=0,ae=0,ur=0,vs=0,Rf=0,In=0,ma=0,Ho=null,en=null,wf=!1,If=0,xu=1/0,Pu=null,cr=null,Ue=0,hr=null,ga=null,pa=0,Cf=0,Df=null,Jp=null,Go=0,Of=null;function fn(){if((Ht&2)!==0&&Pt!==0)return Pt&-Pt;if(H.T!==null){var e=ia;return e!==0?e:kf()}return Qi()}function Wp(){In===0&&(In=(Pt&536870912)===0||zt?Ja():536870912);var e=wn.current;return e!==null&&(e.flags|=32),In}function dn(e,n,s){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ya(e,0),fr(e,Pt,In,!1)),hi(e,s),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(vs|=s),ae===4&&fr(e,Pt,In,!1)),ti(e))}function ty(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Fr(e,n),h=o?VT(e,n):Mf(e,n,!0),f=o;do{if(h===0){da&&!o&&fr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!OT(s)){h=Mf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;h=Ho;var b=E.current.memoizedState.isDehydrated;if(b&&(ya(E,v).flags|=256),v=Mf(E,v,!1),v!==2){if(bf&&!b){E.errorRecoveryDisabledLanes|=f,vs|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ya(e,0),fr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:fr(o,n,In,!lr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=If+300-pn(),10<h)){if(fr(o,n,In,!lr),xs(o,0,!0)!==0)break t;o.timeoutHandle=Dy(ey.bind(null,o,s,en,Pu,wf,n,In,vs,ma,lr,f,2,-0,0),h);break t}ey(o,s,en,Pu,wf,n,In,vs,ma,lr,f,0,-0,0)}}break}while(!0);ti(e)}function ey(e,n,s,o,h,f,v,E,b,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Zo={stylesheets:null,count:0,unsuspend:hA},Yp(n),Q=dA(),Q!==null)){e.cancelPendingCommit=Q(ly.bind(null,e,n,f,s,o,h,v,E,b,G,1,z,B)),fr(e,f,v,!L);return}ly(e,n,f,s,o,h,v,E,b)}function OT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(e,n,s,o){n&=~Rf,n&=~vs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-je(h),v=1<<f;o[f]=-1,h&=~v}s!==0&&zn(e,s,n)}function Uu(){return(Ht&6)===0?(Fo(0),!1):!0}function Nf(){if(It!==null){if(Gt===0)var e=It.return;else e=It,Ri=ds=null,Kh(e),ua=null,Po=0,e=It;for(;e!==null;)xp(e.alternate,e),e=e.return;It=null}}function ya(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,YT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Nf(),Jt=e,It=s=Ai(e.current,null),Pt=n,Gt=0,hn=null,lr=!1,da=Fr(e,n),bf=!1,ma=In=Rf=vs=ur=ae=0,en=Ho=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-je(o),f=1<<h;n|=e[h],o&=~f}return Mi=n,ru(),s}function ny(e,n){St=null,H.H=Su,n===wo||n===du?(n=vg(),Gt=3):n===pg?(n=vg(),Gt=4):Gt=n===Ep?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(ae=1,Cu(e,An(n,e.current)))}function iy(){var e=H.H;return H.H=Su,e===null?Su:e}function ry(){var e=H.A;return H.A=CT,e}function Vf(){ae=4,lr||(Pt&4194048)!==Pt&&wn.current!==null||(da=!0),(ur&134217727)===0&&(vs&134217727)===0||Jt===null||fr(Jt,Pt,In,!1)}function Mf(e,n,s){var o=Ht;Ht|=2;var h=iy(),f=ry();(Jt!==e||Pt!==n)&&(Pu=null,ya(e,n)),n=!1;var v=ae;t:do try{if(Gt!==0&&It!==null){var E=It,b=hn;switch(Gt){case 8:Nf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var L=Gt;if(Gt=0,hn=null,_a(e,E,b,L),s&&da){v=0;break t}break;default:L=Gt,Gt=0,hn=null,_a(e,E,b,L)}}NT(),v=ae;break}catch(G){ny(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ri=ds=null,Ht=o,H.H=h,H.A=f,It===null&&(Jt=null,Pt=0,ru()),v}function NT(){for(;It!==null;)sy(It)}function VT(e,n){var s=Ht;Ht|=2;var o=iy(),h=ry();Jt!==e||Pt!==n?(Pu=null,xu=pn()+500,ya(e,n)):da=Fr(e,n);t:do try{if(Gt!==0&&It!==null){n=It;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,_a(e,n,f,1);break;case 2:case 9:if(yg(f)){Gt=0,hn=null,ay(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),ti(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:yg(f)?(Gt=0,hn=null,ay(n)):(Gt=0,hn=null,_a(e,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||jy(v)){Gt=0,hn=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,ku(L)):It=null}break e}}Gt=0,hn=null,_a(e,n,f,5);break;case 6:Gt=0,hn=null,_a(e,n,f,6);break;case 8:Nf(),ae=6;break t;default:throw Error(a(462))}}MT();break}catch(G){ny(e,G)}while(!0);return Ri=ds=null,H.H=o,H.A=h,Ht=s,It!==null?0:(Jt=null,Pt=0,ru(),ae)}function MT(){for(;It!==null&&!Ya();)sy(It)}function sy(e){var n=Vp(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,n===null?ku(e):It=n}function ay(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=wp(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=wp(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Kh(n);default:xp(s,n),n=It=og(n,Mi),n=Vp(s,n,Mi)}e.memoizedProps=e.pendingProps,n===null?ku(e):It=n}function _a(e,n,s,o){Ri=ds=null,Kh(n),ua=null,Po=0;var h=n.return;try{if(AT(e,h,n,s,Pt)){ae=1,Cu(e,An(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ae=1,Cu(e,An(s,e.current)),It=null;return}n.flags&32768?(zt||o===1?e=!0:da||(Pt&536870912)!==0?e=!1:(lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),oy(n,e)):ku(n)}function ku(e){var n=e;do{if((n.flags&32768)!==0){oy(n,lr);return}e=n.return;var s=bT(n.alternate,n,Mi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ae===0&&(ae=5)}function oy(e,n){do{var s=RT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ae=6,It=null}function ly(e,n,s,o,h,f,v,E,b){e.cancelPendingCommit=null;do Lu();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ah,to(e,s,f,v,E,b),e===Jt&&(It=Jt=null,Pt=0),ga=n,hr=e,pa=s,Cf=f,Df=h,Jp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kT(jr,function(){return dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,v=Ht,Ht|=4;try{wT(e,n,s)}finally{Ht=v,tt.p=h,H.T=o}}Ue=1,uy(),cy(),hy()}}function uy(){if(Ue===1){Ue=0;var e=hr,n=ga,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{Fp(n,e);var f=Ff,v=Zm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&$m(E.ownerDocument.documentElement,E)){if(b!==null&&yh(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Yt=b.end===void 0?ct:Math.min(b.end,mt);!B.extend&&ct>Yt&&(v=Yt,Yt=ct,ct=v);var x=Xm(E,ct),O=Xm(E,Yt);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),B.removeAllRanges(),ct>Yt?(B.addRange(k),B.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}$u=!!Gf,Ff=Gf=null}finally{Ht=h,tt.p=o,H.T=s}}e.current=n,Ue=2}}function cy(){if(Ue===2){Ue=0;var e=hr,n=ga,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{jp(e,n.alternate,n)}finally{Ht=h,tt.p=o,H.T=s}}Ue=3}}function hy(){if(Ue===4||Ue===3){Ue=0,Ml();var e=hr,n=ga,s=pa,o=Jp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,ga=hr=null,fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(cr=null),Ps(s),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(pa&3)!==0&&Lu(),ti(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Of?Go++:(Go=0,Of=e):Go=0,Fo(0)}}function fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bo(n)))}function Lu(e){return uy(),cy(),hy(),dy()}function dy(){if(Ue!==5)return!1;var e=hr,n=Cf;Cf=0;var s=Ps(pa),o=H.T,h=tt.p;try{tt.p=32>s?32:s,H.T=null,s=Df,Df=null;var f=hr,v=pa;if(Ue=0,ga=hr=null,pa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,$p(f.current),Kp(f,f.current,v,s),Ht=E,Fo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=h,H.T=o,fy(e,n)}}function my(e,n,s){n=An(s,n),n=lf(e.stateNode,n,2),e=er(e,n,2),e!==null&&(hi(e,2),ti(e))}function Xt(e,n,s){if(e.tag===3)my(e,e,s);else for(;n!==null;){if(n.tag===3){my(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){e=An(s,e),s=_p(2),o=er(n,s,2),o!==null&&(vp(s,o,n,e),hi(o,2),ti(o));break}}n=n.return}}function xf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new DT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(bf=!0,h.add(s),e=xT.bind(null,e,n,s),n.then(e,e))}function xT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Pt&s)===s&&(ae===4||ae===3&&(Pt&62914560)===Pt&&300>pn()-If?(Ht&2)===0&&ya(e,0):Rf|=s,ma===Pt&&(ma=0)),ti(e)}function gy(e,n){n===0&&(n=Wa()),e=Ws(e,n),e!==null&&(hi(e,n),ti(e))}function PT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),gy(e,s)}function UT(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),gy(e,s)}function kT(e,n){return zr(e,n)}var zu=null,va=null,Pf=!1,Bu=!1,Uf=!1,Es=0;function ti(e){e!==va&&e.next===null&&(va===null?zu=va=e:va=va.next=e),Bu=!0,Pf||(Pf=!0,zT())}function Fo(e,n){if(!Uf&&Bu){Uf=!0;do for(var s=!1,o=zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-je(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,vy(o,f))}else f=Pt,f=xs(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fr(o,f)||(s=!0,vy(o,f));o=o.next}while(s);Uf=!1}}function LT(){py()}function py(){Bu=Pf=!1;var e=0;Es!==0&&(KT()&&(e=Es),Es=0);for(var n=pn(),s=null,o=zu;o!==null;){var h=o.next,f=yy(o,n);f===0?(o.next=null,s===null?zu=h:s.next=h,h===null&&(va=s)):(s=o,(e!==0||(f&3)!==0)&&(Bu=!0)),o=h}Fo(e)}function yy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-je(f),E=1<<v,b=h[v];b===-1?((E&s)===0||(E&o)!==0)&&(h[v]=Za(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Pt,s=xs(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Br(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Br(o),Ps(s)){case 2:case 8:s=Vs;break;case 32:s=jr;break;case 268435456:s=Ms;break;default:s=jr}return o=_y.bind(null,e),s=zr(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Br(o),e.callbackPriority=2,e.callbackNode=null,2}function _y(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Lu()&&e.callbackNode!==s)return null;var o=Pt;return o=xs(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ty(e,o,n),yy(e,pn()),e.callbackNode!=null&&e.callbackNode===s?_y.bind(null,e):null)}function vy(e,n){if(Lu())return null;ty(e,n,!0)}function zT(){XT(function(){(Ht&6)!==0?zr(Xa,LT):py()})}function kf(){return Es===0&&(Es=Ja()),Es}function Ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:js(""+e)}function Ty(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function BT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ey((h[fe]||null).action),v=o.submitter;v&&(n=(n=v[fe]||null)?Ey(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new qs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Es!==0){var b=v?Ty(h,v):new FormData(h);nf(s,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Ty(h,v):new FormData(h),nf(s,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Lf=0;Lf<Th.length;Lf++){var zf=Th[Lf],jT=zf.toLowerCase(),qT=zf[0].toUpperCase()+zf.slice(1);Vn(jT,"on"+qT)}Vn(tg,"onAnimationEnd"),Vn(eg,"onAnimationIteration"),Vn(ng,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(sT,"onTransitionRun"),Vn(aT,"onTransitionStart"),Vn(oT,"onTransitionCancel"),Vn(ig,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function Ay(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=b}}}}function Ct(e,n){var s=n[no];s===void 0&&(s=n[no]=new Set);var o=e+"__bubble";s.has(o)||(Sy(n,e,2,!1),s.add(o))}function Bf(e,n,s){var o=0;n&&(o|=4),Sy(s,e,o,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function jf(e){if(!e[ju]){e[ju]=!0,io.forEach(function(s){s!=="selectionchange"&&(HT.has(s)||Bf(s,!1,e),Bf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ju]||(n[ju]=!0,Bf("selectionchange",!1,n))}}function Sy(e,n,s,o){switch(Ky(n)){case 2:var h=pA;break;case 8:h=yA;break;default:h=ed}s=h.bind(null,n,s,e),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function qf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=fi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Hl(function(){var L=f,G=vn(s),Q=[];t:{var z=rg.get(e);if(z!==void 0){var B=qs,mt=e;switch(e){case"keypress":if(Fn(s)===0)break t;case"keydown":case"keyup":B=Ys;break;case"focusin":mt="focus",B=Fs;break;case"focusout":mt="blur",B=Fs;break;case"beforeblur":case"afterblur":B=Fs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Zl;break;case tg:case eg:case ng:B=Qs;break;case ig:B=Wl;break;case"scroll":case"scrollend":B=Gl;break;case"wheel":B=Xs;break;case"copy":case"cut":case"paste":B=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=po;break;case"toggle":case"beforetoggle":B=eu}var ct=(n&4)!==0,Yt=!ct&&(e==="scroll"||e==="scrollend"),x=ct?z!==null?z+"Capture":null:z;ct=[];for(var O=L,k;O!==null;){var F=O;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||x===null||(F=Wr(O,x),F!=null&&ct.push(Ko(O,F,k))),Yt)break;O=O.return}0<ct.length&&(z=new B(z,mt,null,s,G),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==pi&&(mt=s.relatedTarget||s.fromElement)&&(fi(mt)||mt[yn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(mt=s.relatedTarget||s.toElement,B=L,mt=mt?fi(mt):null,mt!==null&&(Yt=c(mt),ct=mt.tag,mt!==Yt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(B=null,mt=L),B!==mt)){if(ct=Tn,F="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ct=po,F="onPointerLeave",x="onPointerEnter",O="pointer"),Yt=B==null?z:jn(B),k=mt==null?z:jn(mt),z=new ct(F,O+"leave",B,s,G),z.target=Yt,z.relatedTarget=k,F=null,fi(G)===L&&(ct=new ct(x,O+"enter",mt,s,G),ct.target=k,ct.relatedTarget=Yt,F=ct),Yt=F,B&&mt)e:{for(ct=B,x=mt,O=0,k=ct;k;k=Ea(k))O++;for(k=0,F=x;F;F=Ea(F))k++;for(;0<O-k;)ct=Ea(ct),O--;for(;0<k-O;)x=Ea(x),k--;for(;O--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=Ea(ct),x=Ea(x)}ct=null}else ct=null;B!==null&&by(Q,z,B,ct,!1),mt!==null&&Yt!==null&&by(Q,Yt,mt,ct,!0)}}t:{if(z=L?jn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=Hm;else if(ve(z))if(Gm)rt=nT;else{rt=tT;var wt=WE}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&lo(L.elementType)&&(rt=Hm):rt=eT;if(rt&&(rt=rt(e,L))){Ti(Q,rt,s,G);break t}wt&&wt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&$i(z,"number",z.value)}switch(wt=L?jn(L):window,e){case"focusin":(ve(wt)||wt.contentEditable==="true")&&($s=wt,_h=L,vo=null);break;case"focusout":vo=_h=$s=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Jm(Q,s,G);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":Jm(Q,s,G)}var st;if(Yn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?j(e,s)&&(dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(dt="onCompositionStart");dt&&(y&&s.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(st=co()):(Gn=G,Zi="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),wt=qu(L,dt),0<wt.length&&(dt=new mo(dt,e,null,s,G),Q.push({event:dt,listeners:wt}),st?dt.data=st:(st=W(s),st!==null&&(dt.data=st)))),(st=m?_e(e,s):xt(e,s))&&(dt=qu(L,"onBeforeInput"),0<dt.length&&(wt=new mo("onBeforeInput","beforeinput",null,s,G),Q.push({event:wt,listeners:dt}),wt.data=st)),BT(Q,e,L,s,G)}Ay(Q,n)})}function Ko(e,n,s){return{instance:e,listener:n,currentTarget:s}}function qu(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wr(e,s),h!=null&&o.unshift(Ko(e,h,f)),h=Wr(e,n),h!=null&&o.push(Ko(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function by(e,n,s,o,h){for(var f=n._reactName,v=[];s!==null&&s!==o;){var E=s,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Wr(s,f),L!=null&&v.unshift(Ko(s,L,b))):h||(L=Wr(s,f),L!=null&&v.push(Ko(s,L,b)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var GT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(FT,"")}function wy(e,n){return n=Ry(n),Ry(e)===n}function Hu(){}function Kt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":qn(e,"class",o);break;case"tabIndex":qn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,s,o);break;case"style":oo(e,o,f);break;case"data":if(n!=="object"){qn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=js(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=js(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Hu);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Xi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hh.get(s)||s,Xi(e,s,o))}}function Hf(e,n,s,o,h,f){switch(s){case"style":oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[fe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Xi(e,s,o)}}}function ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(e,n,f,v,s,null)}}h&&Kt(e,n,"srcSet",s.srcSet,s,null),o&&Kt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Kt(e,n,o,G,s,null)}}$r(e,f,E,b,L,v,h,!1),Bs(e);return;case"select":Ct("invalid",e),o=v=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Kt(e,n,h,E,s,null)}n=f,s=v,e.multiple=!!o,n!=null?gi(e,!!o,n,!1):s!=null&&gi(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(e,n,v,E,s,null)}Zr(e,o,h,f),Bs(e);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(o=s[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,n,b,o,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Qo.length;o++)Ct(Qo[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(e,n,L,o,s,null)}return;default:if(lo(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Hf(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Kt(e,n,E,o,s,null))}function QT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,G=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Kt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Kt(e,n,z,B,o,Q)}}an(e,v,E,b,L,G,f,h);return;case"select":B=v=E=z=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Kt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=s[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Kt(e,n,h,f,o,b)}n=E,s=v,o=B,z!=null?gi(e,!!s,z,!1):!!o!=!!s&&(n!=null?gi(e,!!s,n,!0):gi(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,n,E,null,o,h)}for(v in o)if(h=o[v],f=s[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Kt(e,n,v,h,o,f)}Ft(e,z,B);return;case"option":for(var mt in s)if(z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Kt(e,n,mt,null,o,z)}for(b in o)if(z=o[b],B=s[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)z=s[ct],s.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Kt(e,n,ct,null,o,z);for(L in o)if(z=o[L],B=s[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Kt(e,n,L,z,o,B)}return;default:if(lo(n)){for(var Yt in s)z=s[Yt],s.hasOwnProperty(Yt)&&z!==void 0&&!o.hasOwnProperty(Yt)&&Hf(e,n,Yt,void 0,o,z);for(G in o)z=o[G],B=s[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Hf(e,n,G,z,o,B);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Kt(e,n,x,null,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Kt(e,n,Q,z,o,B)}var Gf=null,Ff=null;function Gu(e){return e.nodeType===9?e:e.ownerDocument}function Iy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kf=null;function KT(){var e=window.event;return e&&e.type==="popstate"?e===Kf?!1:(Kf=e,!0):(Kf=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(e){return Oy.resolve(null).then(e).catch($T)}:Dy;function $T(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function Ny(e,n){var s=n,o=0,h=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var v=e.ownerDocument;if(s&1&&Yo(v.documentElement),s&2&&Yo(v.body),s&4)for(s=v.head,Yo(s),v=s.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(h===0){e.removeChild(f),nl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);nl(n)}function Yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yf(s),Yi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ZT(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Qr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function JT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function WT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var $f=null;function Vy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function My(e,n,s){switch(n=Gu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yi(e)}var Cn=new Map,xy=new Set;function Fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=tt.d;tt.d={f:tA,r:eA,D:nA,C:iA,L:rA,m:sA,X:oA,S:aA,M:lA};function tA(){var e=xi.f(),n=Uu();return e||n}function eA(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?tp(n):xi.r(e)}var Ta=typeof document>"u"?null:document;function Py(e,n,s){var o=Ta;if(o&&typeof n=="string"&&n){var h=de(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),xy.has(h)||(xy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ke(n,"link",e),le(n),o.head.appendChild(n)))}}function nA(e){xi.D(e),Py("dns-prefetch",e,null)}function iA(e,n){xi.C(e,n),Py("preconnect",e,n)}function rA(e,n,s){xi.L(e,n,s);var o=Ta;if(o&&e&&n){var h='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+de(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+de(s.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(n){case"style":f=Aa(e);break;case"script":f=Sa(e)}Cn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Cn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Xo(f))||n==="script"&&o.querySelector($o(f))||(n=o.createElement("link"),ke(n,"link",e),le(n),o.head.appendChild(n)))}}function sA(e,n){xi.m(e,n);var s=Ta;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sa(e)}if(!Cn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Cn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($o(f)))return}o=s.createElement("link"),ke(o,"link",e),le(o),s.head.appendChild(o)}}}function aA(e,n,s){xi.S(e,n,s);var o=Ta;if(o&&e){var h=Ye(o).hoistableStyles,f=Aa(e);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Xo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Cn.get(f))&&Zf(e,s);var b=v=o.createElement("link");le(b),ke(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function oA(e,n){xi.X(e,n);var s=Ta;if(s&&e){var o=Ye(s).hoistableScripts,h=Sa(e),f=o.get(h);f||(f=s.querySelector($o(h)),f||(e=A({src:e,async:!0},n),(n=Cn.get(h))&&Jf(e,n),f=s.createElement("script"),le(f),ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lA(e,n){xi.M(e,n);var s=Ta;if(s&&e){var o=Ye(s).hoistableScripts,h=Sa(e),f=o.get(h);f||(f=s.querySelector($o(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Cn.get(h))&&Jf(e,n),f=s.createElement("script"),le(f),ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Uy(e,n,s,o){var h=(h=yt.current)?Fu(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Aa(s.href),s=Ye(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Aa(s.href);var f=Ye(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Xo(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(e,s),f||uA(h,e,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sa(s),s=Ye(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Aa(e){return'href="'+de(e)+'"'}function Xo(e){return'link[rel="stylesheet"]['+e+"]"}function ky(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function uA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ke(n,"link",s),le(n),e.head.appendChild(n))}function Sa(e){return'[src="'+de(e)+'"]'}function $o(e){return"script[async]"+e}function Ly(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(s.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),ke(o,"style",h),Qu(o,s.precedence,e),n.instance=o;case"stylesheet":h=Aa(s.href);var f=e.querySelector(Xo(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=ky(s),(h=Cn.get(h))&&Zf(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ke(f,"link",o),n.state.loading|=4,Qu(f,s.precedence,e),n.instance=f;case"script":return f=Sa(s.src),(h=e.querySelector($o(f)))?(n.instance=h,le(h),h):(o=s,(h=Cn.get(f))&&(o=A({},s),Jf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Qu(o,s.precedence,e));return n.instance}function Qu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ku=null;function zy(e,n,s){if(Ku===null){var o=new Map,h=Ku=new Map;h.set(s,o)}else h=Ku,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Qr]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function By(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function cA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zo=null;function hA(){}function fA(e,n,s){if(Zo===null)throw Error(a(475));var o=Zo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Aa(s.href),f=e.querySelector(Xo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Yu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,s=ky(s),(h=Cn.get(h))&&Zf(s,h),f=f.createElement("link"),le(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ke(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Yu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function dA(){if(Zo===null)throw Error(a(475));var e=Zo;return e.stylesheets&&e.count===0&&Wf(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Wf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xu=null;function Wf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xu=new Map,n.forEach(mA,e),Xu=null,Yu.call(e))}function mA(e,n){if(!(n.state.loading&4)){var s=Xu.get(e);if(s)var o=s.get(null);else{s=new Map,Xu.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,h),s.set(v,h),this.count++,o=Yu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Jo={$$typeof:ot,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function gA(e,n,s,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qy(e,n,s,o,h,f,v,E,b,L,G,Q){return e=new gA(e,n,s,v,E,b,L,Q),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),e.current=f,f.stateNode=e,n=Mh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},kh(f),e}function Hy(e){return e?(e=ta,e):ta}function Gy(e,n,s,o,h,f){h=Hy(h),o.context===null?o.context=h:o.pendingContext=h,o=tr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=er(e,o,n),s!==null&&(dn(s,e,n),Co(s,e,n))}function Fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function td(e,n){Fy(e,n),(e=e.alternate)&&Fy(e,n)}function Qy(e){if(e.tag===13){var n=Ws(e,67108864);n!==null&&dn(n,e,67108864),td(e,67108864)}}var $u=!0;function pA(e,n,s,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,ed(e,n,s,o)}finally{tt.p=f,H.T=h}}function yA(e,n,s,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,ed(e,n,s,o)}finally{tt.p=f,H.T=h}}function ed(e,n,s,o){if($u){var h=nd(o);if(h===null)qf(e,n,o,Zu,s),Yy(e,o);else if(vA(h,e,n,s,o))o.stopPropagation();else if(Yy(e,o),n&4&&-1<_A.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-je(v);E.entanglements[1]|=b,v&=~b}ti(f),(Ht&6)===0&&(xu=pn()+500,Fo(0))}}break;case 13:E=Ws(f,2),E!==null&&dn(E,f,2),Uu(),td(f,2)}if(f=nd(o),f===null&&qf(e,n,o,Zu,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else qf(e,n,o,null,s)}}function nd(e){return e=vn(e),id(e)}var Zu=null;function id(e){if(Zu=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Zu=e,null}function Ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sh()){case Xa:return 2;case Vs:return 8;case jr:case ah:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var rd=!1,mr=null,gr=null,pr=null,Wo=new Map,tl=new Map,yr=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(e,n){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function el(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&Qy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function vA(e,n,s,o,h){switch(n){case"focusin":return mr=el(mr,e,n,s,o,h),!0;case"dragenter":return gr=el(gr,e,n,s,o,h),!0;case"mouseover":return pr=el(pr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Wo.set(f,el(Wo.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,tl.set(f,el(tl.get(f)||null,e,n,s,o,h)),!0}return!1}function Xy(e){var n=fi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ul(e.priority,function(){if(s.tag===13){var o=fn();o=Fi(o);var h=Ws(s,o);h!==null&&dn(h,s,o),td(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=nd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);pi=o,s.target.dispatchEvent(o),pi=null}else return n=Bn(s),n!==null&&Qy(n),e.blockedOn=s,!1;n.shift()}return!0}function $y(e,n,s){Ju(e)&&s.delete(n)}function EA(){rd=!1,mr!==null&&Ju(mr)&&(mr=null),gr!==null&&Ju(gr)&&(gr=null),pr!==null&&Ju(pr)&&(pr=null),Wo.forEach($y),tl.forEach($y)}function Wu(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,EA)))}var tc=null;function Zy(e){tc!==e&&(tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tc===e&&(tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(id(o||s)===null)continue;break}var f=Bn(s);f!==null&&(e.splice(n,3),n-=3,nf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function nl(e){function n(b){return Wu(b,e)}mr!==null&&Wu(mr,e),gr!==null&&Wu(gr,e),pr!==null&&Wu(pr,e),Wo.forEach(n),tl.forEach(n);for(var s=0;s<yr.length;s++){var o=yr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)Xy(s),s.blockedOn===null&&yr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],v=h[fe]||null;if(typeof f=="function")v||Zy(s);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[fe]||null)E=v.formAction;else if(id(h)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Zy(s)}}}function sd(e){this._internalRoot=e}ec.prototype.render=sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=fn();Gy(s,o,e,n,null,null)},ec.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gy(e.current,2,null,e,null,null),Uu(),n[yn]=null}};function ec(e){this._internalRoot=e}ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<yr.length&&n!==0&&n<yr[s].priority;s++);yr.splice(s,0,e),s===0&&Xy(e)}};var Jy=t.version;if(Jy!=="19.1.0")throw Error(a(527,Jy,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var TA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{re=nc.inject(TA),qt=nc}catch{}}return rl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=mp,f=gp,v=pp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=qy(e,1,!1,null,null,s,o,h,f,v,E,null),e[yn]=n.current,jf(e),new sd(n)},rl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=mp,v=gp,E=pp,b=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),n=qy(e,1,!0,n,s??null,o,h,f,v,E,b,L),n.context=Hy(null),s=n.current,o=fn(),o=Fi(o),h=tr(o),h.callback=null,er(s,h,o),s=o,n.current.lanes=s,hi(n,s),ti(n),e[yn]=n.current,jf(e),new ec(n)},rl.version="19.1.0",rl}var l_;function NA(){if(l_)return ld.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ld.exports=OA(),ld.exports}var VA=NA();const MA=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},xA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,q=_&63;p||(q=64,d||(C=64)),a.push(i[A],i[I],i[C],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Mv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):xA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const I=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new PA;const C=c<<2|g>>4;if(a.push(C),_!==64){const q=g<<4&240|_>>2;if(a.push(q),I!==64){const X=_<<6&192|I;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(r){const t=Mv(r);return xv.encodeByteArray(t,!0)},_c=function(r){return UA(r).replace(/\./g,"")},Pv=function(r){try{return xv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=()=>kA().__FIREBASE_DEFAULTS__,zA=()=>{if(typeof process>"u"||typeof u_>"u")return;const r=u_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Pv(r[1]);return t&&JSON.parse(t)},Lc=()=>{try{return MA()||LA()||zA()||BA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Uv=r=>{var t,i;return(i=(t=Lc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},jA=r=>{const t=Uv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kv=()=>{var r;return(r=Lc())===null||r===void 0?void 0:r.config},Lv=r=>{var t;return(t=Lc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){return r.endsWith(".cloudworkstations.dev")}async function zv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_c(JSON.stringify(i)),_c(JSON.stringify(d)),""].join(".")}const ll={};function GA(){const r={prod:[],emulator:[]};for(const t of Object.keys(ll))ll[t]?r.emulator.push(t):r.prod.push(t);return r}function FA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let c_=!1;function Bv(r,t){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||ll[r]===t||ll[r]||c_)return;ll[r]=t;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",c=GA().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,q){C.setAttribute("width","24"),C.setAttribute("id",q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{c_=!0,d()},C}function A(C,q){C.setAttribute("id",q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=FA(a),q=i("text"),X=document.getElementById(q)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),Tt=i("preprendIcon"),ft=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ot=C.element;g(ot),A(Z,nt);const Nt=_();p(ft,Tt),ot.append(ft,X,Z,Nt),document.body.appendChild(ot)}c?(X.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function KA(){var r;const t=(r=Lc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZA(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="FirebaseError";class Hi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=eS,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?nS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Hi(l,g,a)}}function nS(r,t){return r.replace(iS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const iS=/\{\$([^}]+)}/g;function rS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Dr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(h_(c)&&h_(d)){if(!Dr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function h_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function sS(r,t){const i=new aS(r,t);return i.subscribe.bind(i)}class aS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");oS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=fd),l.error===void 0&&(l.error=fd),l.complete===void 0&&(l.complete=fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r){return r&&r._delegate?r._delegate:r}class Rs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new qA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cS(t))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ts){return this.instances.has(t)}getOptions(t=Ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ts){return this.component?this.component.multipleInstances?t:Ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(r){return r===Ts?void 0:r}function cS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const fS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},dS=Dt.INFO,mS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},gS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=mS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $d{constructor(t){this.name=t,this._logLevel=dS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const pS=(r,t)=>t.some(i=>r instanceof i);let f_,d_;function yS(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,bd=new WeakMap,qv=new WeakMap,dd=new WeakMap,Zd=new WeakMap;function vS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(br(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&jv.set(i,r)}).catch(()=>{}),Zd.set(t,r),t}function ES(r){if(bd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});bd.set(r,t)}let Rd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||qv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return br(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function TS(r){Rd=r(Rd)}function AS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(md(this),t,...i);return qv.set(a,t.sort?t.sort():[t]),br(a)}:_S().includes(r)?function(...t){return r.apply(md(this),t),br(jv.get(this))}:function(...t){return br(r.apply(md(this),t))}}function SS(r){return typeof r=="function"?AS(r):(r instanceof IDBTransaction&&ES(r),pS(r,yS())?new Proxy(r,Rd):r)}function br(r){if(r instanceof IDBRequest)return vS(r);if(dd.has(r))return dd.get(r);const t=SS(r);return t!==r&&(dd.set(r,t),Zd.set(t,r)),t}const md=r=>Zd.get(r);function bS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=br(d);return a&&d.addEventListener("upgradeneeded",p=>{a(br(d.result),p.oldVersion,p.newVersion,br(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const RS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],gd=new Map;function m_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=wS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||RS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return gd.set(t,c),c}TS(r=>({...r,get:(t,i,a)=>m_(t,i)||r.get(t,i,a),has:(t,i)=>!!m_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wd="@firebase/app",g_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new $d("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",NS="@firebase/analytics",VS="@firebase/app-check-compat",MS="@firebase/app-check",xS="@firebase/auth",PS="@firebase/auth-compat",US="@firebase/database",kS="@firebase/data-connect",LS="@firebase/database-compat",zS="@firebase/functions",BS="@firebase/functions-compat",jS="@firebase/installations",qS="@firebase/installations-compat",HS="@firebase/messaging",GS="@firebase/messaging-compat",FS="@firebase/performance",QS="@firebase/performance-compat",KS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",$S="@firebase/storage-compat",ZS="@firebase/firestore",JS="@firebase/ai",WS="@firebase/firestore-compat",t1="firebase",e1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",n1={[wd]:"fire-core",[DS]:"fire-core-compat",[NS]:"fire-analytics",[OS]:"fire-analytics-compat",[MS]:"fire-app-check",[VS]:"fire-app-check-compat",[xS]:"fire-auth",[PS]:"fire-auth-compat",[US]:"fire-rtdb",[kS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[zS]:"fire-fn",[BS]:"fire-fn-compat",[jS]:"fire-iid",[qS]:"fire-iid-compat",[HS]:"fire-fcm",[GS]:"fire-fcm-compat",[FS]:"fire-perf",[QS]:"fire-perf-compat",[KS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[$S]:"fire-gcs-compat",[ZS]:"fire-fst",[WS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,i1=new Map,Cd=new Map;function p_(r,t){try{r.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Va(r){const t=r.name;if(Cd.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Cd.set(t,r);for(const i of vc.values())p_(i,r);for(const i of i1.values())p_(i,r);return!0}function Jd(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Sl("app","Firebase",r1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=e1;function Hv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Id,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw Rr.create("no-options");const c=vc.get(l);if(c){if(Dr(i,c.options)&&Dr(a,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const d=new hS(l);for(const p of Cd.values())d.addComponent(p);const g=new s1(i,a,d);return vc.set(l,g),g}function Gv(r=Id){const t=vc.get(r);if(!t&&r===Id&&kv())return Hv();if(!t)throw Rr.create("no-app",{appName:r});return t}function wr(r,t,i){var a;let l=(a=n1[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}Va(new Rs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebase-heartbeat-database",o1=1,ml="firebase-heartbeat-store";let pd=null;function Fv(){return pd||(pd=bS(a1,o1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),pd}async function l1(r){try{const i=(await Fv()).transaction(ml),a=await i.objectStore(ml).get(Qv(r));return await i.done,a}catch(t){if(t instanceof Hi)zi.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}async function y_(r,t){try{const a=(await Fv()).transaction(ml,"readwrite");await a.objectStore(ml).put(t,Qv(r)),await a.done}catch(i){if(i instanceof Hi)zi.warn(i.message);else{const a=Rr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});zi.warn(a.message)}}}function Qv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1024,c1=30;class h1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new d1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=__();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>c1){const d=m1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){zi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=__(),{heartbeatsToSend:a,unsentEntries:l}=f1(this._heartbeatsCache.heartbeats),c=_c(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return zi.warn(i),""}}}function __(){return new Date().toISOString().substring(0,10)}function f1(r,t=u1){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),v_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),v_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class d1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await l1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return y_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return y_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function v_(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function m1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){Va(new Rs("platform-logger",t=>new IS(t),"PRIVATE")),Va(new Rs("heartbeat",t=>new h1(t),"PRIVATE")),wr(wd,g_,r),wr(wd,g_,"esm2017"),wr("fire-js","")}g1("");var p1="firebase",y1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(p1,y1,"app");function Wd(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _1=Kv,Yv=new Sl("auth","Firebase",Kv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new $d("@firebase/auth");function v1(r,...t){Ec.logLevel<=Dt.WARN&&Ec.warn(`Auth (${qa}): ${r}`,...t)}function uc(r,...t){Ec.logLevel<=Dt.ERROR&&Ec.error(`Auth (${qa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...t){throw em(r,...t)}function kn(r,...t){return em(r,...t)}function tm(r,t,i){const a=Object.assign(Object.assign({},_1()),{[t]:i});return new Sl("auth","Firebase",a).create(t,{appName:r.name})}function bs(r){return tm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E1(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&ai(r,"argument-error"),tm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function em(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Yv.create(r,...t)}function pt(r,t,...i){if(!r)throw em(t,...i)}function Ui(r){const t="INTERNAL ASSERTION FAILED: "+r;throw uc(t),new Error(t)}function Bi(r,t){r||Ui(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function T1(){return E_()==="http:"||E_()==="https:"}function E_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T1()||XA()||"connection"in navigator)?navigator.onLine:!0}function S1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Bi(i>t,"Short delay should be less than long delay!"),this.isMobile=QA()||$A()}get(){return A1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(r,t){Bi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w1=new Rl(3e4,6e4);function im(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ha(r,t,i,a,l={}){return $v(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=bl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return YA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Al(r.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Zv(r,r.config.apiHost,i,g),_)})}async function $v(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},b1),t);try{const l=new C1(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ic(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw ic(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tm(r,A,_);ai(r,A)}}catch(l){if(l instanceof Hi)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function I1(r,t,i,a,l={}){const c=await Ha(r,t,i,a,l);return"mfaPendingCredential"in c&&ai(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?nm(r.config,l):`${r.config.apiScheme}://${l}`;return R1.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class C1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(kn(this.auth,"network-request-failed")),w1.get())})}}function ic(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=kn(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(r,t){return Ha(r,"POST","/v1/accounts:delete",t)}async function Tc(r,t){return Ha(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function O1(r,t=!1){const i=Je(r),a=await i.getIdToken(t),l=rm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:ul(yd(l.auth_time)),issuedAtTime:ul(yd(l.iat)),expirationTime:ul(yd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function yd(r){return Number(r)*1e3}function rm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Pv(i);return l?JSON.parse(l):(uc("Failed to decode base64 JWT payload"),null)}catch(l){return uc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function T_(r){const t=rm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Hi&&N1(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function N1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(r){var t;const i=r.auth,a=await r.getIdToken(),l=await gl(r,Tc(i,{idToken:a}));pt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Jv(c.providerUserInfo):[],g=x1(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Od(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function M1(r){const t=Je(r);await Ac(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function x1(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Jv(r){return r.map(t=>{var{providerId:i}=t,a=Wd(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(r,t){const i=await $v(r,{},async()=>{const a=bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Zv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Xv.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function U1(r,t){return Ha(r,"POST","/v2/accounts:revokeToken",im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):T_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=T_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await P1(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ca;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=Wd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Od(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await gl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return O1(this,t)}reload(){return M1(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Ac(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(bs(this.auth));const t=await this.getIdToken();return await gl(this,D1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,p,_,A;const I=(a=i.displayName)!==null&&a!==void 0?a:void 0,C=(l=i.email)!==null&&l!==void 0?l:void 0,q=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,X=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(_=i.createdAt)!==null&&_!==void 0?_:void 0,ft=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ot,emailVerified:Nt,isAnonymous:_t,providerData:Vt,stsTokenManager:V}=i;pt(ot&&V,t,"internal-error");const S=Ca.fromJSON(this.name,V);pt(typeof ot=="string",t,"internal-error"),vr(I,t.name),vr(C,t.name),pt(typeof Nt=="boolean",t,"internal-error"),pt(typeof _t=="boolean",t,"internal-error"),vr(q,t.name),vr(X,t.name),vr(nt,t.name),vr(Z,t.name),vr(Tt,t.name),vr(ft,t.name);const R=new Un({uid:ot,auth:t,email:C,emailVerified:Nt,displayName:I,isAnonymous:_t,photoURL:X,phoneNumber:q,tenantId:nt,stsTokenManager:S,createdAt:Tt,lastLoginAt:ft});return Vt&&Array.isArray(Vt)&&(R.providerData=Vt.map(N=>Object.assign({},N))),Z&&(R._redirectEventId=Z),R}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ca;l.updateFromServerResponse(i);const c=new Un({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Ac(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Jv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ca;g.updateFromIdToken(a);const p=new Un({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Od(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;function ki(r){Bi(r instanceof Function,"Expected a class definition");let t=A_.get(r);return t?(Bi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,A_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Wv.type="NONE";const S_=Wv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(r,t,i){return`firebase:${r}:${t}:${i}`}class Da{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=cc(this.userKey,l.apiKey,c),this.fullPersistenceKey=cc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Tc(this.auth,{idToken:t}).catch(()=>{});return i?Un._fromGetAccountInfoResponse(this.auth,i,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Da(ki(S_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ki(S_);const d=cc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const C=await Tc(t,{idToken:A}).catch(()=>{});if(!C)break;I=await Un._fromGetAccountInfoResponse(t,C,A)}else I=Un._fromJSON(t,A);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Da(c,t,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Da(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s0(t))return"Blackberry";if(a0(t))return"Webos";if(e0(t))return"Safari";if((t.includes("chrome/")||n0(t))&&!t.includes("edge/"))return"Chrome";if(r0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function t0(r=Ke()){return/firefox\//i.test(r)}function e0(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n0(r=Ke()){return/crios\//i.test(r)}function i0(r=Ke()){return/iemobile/i.test(r)}function r0(r=Ke()){return/android/i.test(r)}function s0(r=Ke()){return/blackberry/i.test(r)}function a0(r=Ke()){return/webos/i.test(r)}function sm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function k1(r=Ke()){var t;return sm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function L1(){return ZA()&&document.documentMode===10}function o0(r=Ke()){return sm(r)||r0(r)||a0(r)||s0(r)||/windows phone/i.test(r)||i0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r,t=[]){let i;switch(r){case"Browser":i=b_(Ke());break;case"Worker":i=`${b_(Ke())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${qa}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(r,t={}){return Ha(r,"GET","/v2/passwordPolicy",im(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=6;class q1{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:j1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new z1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ki(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await Da.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Tc(this,{idToken:t}),a=await Un._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Ac(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=S1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(bs(this));const i=t?Je(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await B1(this),i=new q1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await U1(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ki(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&v1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function zc(r){return Je(r)}class R_{constructor(t){this.auth=t,this.observer=null,this.addObserver=sS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G1(r){am=r}function F1(r){return am.loadJS(r)}function Q1(){return am.gapiScript}function K1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,t){const i=Jd(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Dr(c,t??{}))return l;ai(l,"already-initialized")}return i.initialize({options:t})}function X1(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(ki);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function $1(r,t,i){const a=zc(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=u0(t),{host:d,port:g}=Z1(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Dr(_,a.config.emulator)&&Dr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(zv(`${c}//${d}${p}`),Bv("Auth",!0)):J1()}function u0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Z1(r){const t=u0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:w_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:w_(d)}}}function w_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function J1(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ui("not implemented")}_getIdTokenResponse(t){return Ui("not implemented")}_linkToIdToken(t,i){return Ui("not implemented")}_getReauthenticationResolver(t){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(r,t){return I1(r,"POST","/v1/accounts:signInWithIdp",im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="http://localhost";class ws extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ai("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=Wd(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new ws(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Oa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Oa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Oa(t,i)}buildRequest(){const t={requestUri:W1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=bl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends wl{constructor(){super("facebook.com")}static credential(t){return ws._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ws._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Pi.credential(i,a)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends wl{constructor(){super("github.com")}static credential(t){return ws._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends wl{constructor(){super("twitter.com")}static credential(t,i){return ws._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ar.credential(i,a)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Un._fromIdTokenResponse(t,a,l),d=I_(a);return new Ma({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=I_(a);return new Ma({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function I_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Hi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Sc(t,i,a,l)}}function h0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(r,c,t,a):c})}async function tb(r,t,i=!1){const a=await gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ma._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(r,t,i=!1){const{auth:a}=r;if(Pn(a.app))return Promise.reject(bs(a));const l="reauthenticate";try{const c=await gl(r,h0(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=rm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(r.uid===g,a,"user-mismatch"),Ma._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ai(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(r,t,i=!1){if(Pn(r.app))return Promise.reject(bs(r));const a="signIn",l=await h0(r,a,t),c=await Ma._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function ib(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function rb(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function sb(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}function ab(r){return Je(r).signOut()}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=1e3,lb=10;class d0 extends f0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);L1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,lb):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},ob)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}d0.type="LOCAL";const ub=d0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends f0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}m0.type="SESSION";const g0=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Bc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await cb(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=lm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(I){const C=I;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function fb(r){ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function db(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mb(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function gb(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firebaseLocalStorageDb",pb=1,Rc="firebaseLocalStorage",_0="fbase_key";class Il{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function jc(r,t){return r.transaction([Rc],t?"readwrite":"readonly").objectStore(Rc)}function yb(){const r=indexedDB.deleteDatabase(y0);return new Il(r).toPromise()}function Nd(){const r=indexedDB.open(y0,pb);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Rc,{keyPath:_0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Rc)?t(a):(a.close(),await yb(),t(await Nd()))})})}async function C_(r,t,i){const a=jc(r,!0).put({[_0]:t,value:i});return new Il(a).toPromise()}async function _b(r,t){const i=jc(r,!1).get(t),a=await new Il(i).toPromise();return a===void 0?null:a.value}function D_(r,t){const i=jc(r,!0).delete(t);return new Il(i).toPromise()}const vb=800,Eb=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Eb)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bc._getInstance(gb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await db(),!this.activeServiceWorker)return;this.sender=new hb(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Nd();return await C_(t,bc,"1"),await D_(t,bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>C_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_b(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>D_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=jc(l,!1).getAll();return new Il(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const Tb=v0;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r,t){return t?ki(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends c0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Oa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Oa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ab(r){return nb(r.auth,new um(r),r.bypassAuthState)}function Sb(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),eb(i,new um(r),r.bypassAuthState)}async function bb(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),tb(i,new um(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ab;case"linkViaPopup":case"linkViaRedirect":return bb;case"reauthViaPopup":case"reauthViaRedirect":return Sb;default:ai(this.auth,"internal-error")}}resolve(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Rl(2e3,1e4);async function wb(r,t,i){if(Pn(r.app))return Promise.reject(kn(r,"operation-not-supported-in-this-environment"));const a=zc(r);E1(r,t,om);const l=E0(a,i);return new As(a,"signInViaPopup",t,l).executeNotNull()}class As extends T0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const t=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rb.get())};t()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="pendingRedirect",hc=new Map;class Cb extends T0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=hc.get(this.auth._key());if(!t){try{const a=await Db(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}hc.set(this.auth._key(),t)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Db(r,t){const i=Vb(t),a=Nb(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Ob(r,t){hc.set(r._key(),t)}function Nb(r){return ki(r._redirectPersistence)}function Vb(r){return cc(Ib,r.config.apiKey,r.name)}async function Mb(r,t,i=!1){if(Pn(r.app))return Promise.reject(bs(r));const a=zc(r),l=E0(a,t),d=await new Cb(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=10*60*1e3;class Pb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ub(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!A0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(kn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xb&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(t))}saveEventToCache(t){this.cachedEventUids.add(O_(t)),this.lastProcessedEventTime=Date.now()}}function O_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function A0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ub(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,t={}){return Ha(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zb=/^https?/;async function Bb(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kb(r);for(const i of t)try{if(jb(i))return}catch{}ai(r,"unauthorized-domain")}function jb(r){const t=Dd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zb.test(i))return!1;if(Lb.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Rl(3e4,6e4);function N_(){const r=ni().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Hb(r){return new Promise((t,i)=>{var a,l,c;function d(){N_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N_(),i(kn(r,"network-request-failed"))},timeout:qb.get()})}if(!((l=(a=ni().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ni().gapi)===null||c===void 0)&&c.load)d();else{const g=K1("iframefcb");return ni()[g]=()=>{gapi.load?d():i(kn(r,"network-request-failed"))},F1(`${Q1()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw fc=null,t})}let fc=null;function Gb(r){return fc=fc||Hb(r),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Rl(5e3,15e3),Qb="__/auth/iframe",Kb="emulator/auth/iframe",Yb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $b(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?nm(t,Kb):`https://${r.config.authDomain}/${Qb}`,a={apiKey:t.apiKey,appName:r.name,v:qa},l=Xb.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${bl(a).slice(1)}`}async function Zb(r){const t=await Gb(r),i=ni().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:$b(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yb,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=kn(r,"network-request-failed"),g=ni().setTimeout(()=>{c(d)},Fb.get());function p(){ni().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wb=500,tR=600,eR="_blank",nR="http://localhost";class V_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iR(r,t,i,a=Wb,l=tR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Jb),{width:a.toString(),height:l.toString(),top:c,left:d}),_=Ke().toLowerCase();i&&(g=n0(_)?eR:i),t0(_)&&(t=t||nR,p.scrollbars="yes");const A=Object.entries(p).reduce((C,[q,X])=>`${C}${q}=${X},`,"");if(k1(_)&&g!=="_self")return rR(t||"",g),new V_(null);const I=window.open(t||"",g,A);pt(I,r,"popup-blocked");try{I.focus()}catch{}return new V_(I)}function rR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__/auth/handler",aR="emulator/auth/handler",oR=encodeURIComponent("fac");async function M_(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:qa,eventId:l};if(t instanceof om){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",rS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof wl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${oR}=${encodeURIComponent(p)}`:"";return`${lR(r)}?${bl(g).slice(1)}${_}`}function lR({config:r}){return r.emulator?nm(r,aR):`https://${r.authDomain}/${sR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="webStorageSupport";class uR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g0,this._completeRedirectFn=Mb,this._overrideRedirectResult=Ob}async _openPopup(t,i,a,l){var c;Bi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await M_(t,i,a,Dd(),l);return iR(t,d,lm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await M_(t,i,a,Dd(),l);return fb(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Bi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Zb(t),a=new Pb(t);return i.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(_d,{type:_d},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[_d];d!==void 0&&i(!!d),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Bb(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return o0()||e0()||sm()}}const cR=uR;var x_="@firebase/auth",P_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dR(r){Va(new Rs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(r)},_=new H1(a,l,c,p);return X1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Va(new Rs("auth-internal",t=>{const i=zc(t.getProvider("auth").getImmediate());return(a=>new hR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(x_,P_,fR(r)),wr(x_,P_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=5*60,gR=Lv("authIdTokenMaxAge")||mR;let U_=null;const pR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>gR)return;const l=i==null?void 0:i.token;U_!==l&&(U_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yR(r=Gv()){const t=Jd(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Y1(r,{popupRedirectResolver:cR,persistence:[Tb,ub,g0]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=pR(c.toString());rb(i,d,()=>d(i.currentUser)),ib(i,g=>d(g))}}const l=Uv("auth");return l&&$1(i,`http://${l}`),i}function _R(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}G1({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=kn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",_R().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dR("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,S0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(N,M,P){for(var w=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)w[Ve-2]=arguments[Ve];return S.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],M=V.g[2];var P=V.g[3],w=S+(P^R&(M^P))+N[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+N[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+N[2]+606105819&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+N[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(P^R&(M^P))+N[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+N[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+N[6]+2821735955&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+N[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(P^R&(M^P))+N[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+N[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+N[10]+4294925233&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+N[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(P^R&(M^P))+N[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(M^S&(R^M))+N[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(R^P&(S^R))+N[14]+2792965006&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(S^M&(P^S))+N[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^P&(R^M))+N[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+N[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+N[11]+643717713&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+N[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(R^M))+N[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+N[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+N[15]+3634488961&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+N[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(R^M))+N[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+N[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+N[3]+4107603335&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+N[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(R^M))+N[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(S^R))+N[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(P^S))+N[7]+1735328473&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(M^P))+N[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^P)+N[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+N[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+N[11]+1839030562&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+N[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^P)+N[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+N[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+N[7]+4139469664&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+N[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^P)+N[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+N[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+N[3]+3572445317&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+N[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^P)+N[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^M)+N[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^R)+N[15]+530742520&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^S)+N[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~P))+N[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+N[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+N[14]+2878612391&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+N[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~P))+N[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+N[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+N[10]+4293915773&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+N[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~P))+N[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+N[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+N[6]+2734768916&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+N[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~P))+N[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~M))+N[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~R))+N[2]+718787259&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}a.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,N=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=R;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(N[M++]=V.charCodeAt(P++),M==this.blockSize){l(this,N),M=0;break}}else for(;P<S;)if(N[M++]=V[P++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)V[R++]=this.g[S]>>>N&255;return V};function c(V,S){var R=g;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function d(V,S){this.h=S;for(var R=[],N=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;N&&P==S||(R[M]=P,N=!1)}this.g=R}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return Z(_(-V));for(var S=[],R=1,N=0;V>=R;N++)S[N]=V/R|0,R*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),N=I,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),w=parseInt(V.substring(M,M+P),S);8>P?(P=_(Math.pow(S,P)),N=N.j(P).add(_(w))):(N=N.j(R),N=N.add(_(w)))}return N}var I=p(0),C=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(nt(this))return"-"+Z(this).toString(V);for(var S=_(Math.pow(V,6)),R=this,N="";;){var M=Nt(R,S).g;R=Tt(R,M.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,X(R))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function nt(V){return V.h==-1}r.l=function(V){return V=Tt(this,V),nt(V)?-1:X(V)?0:1};function Z(V){for(var S=V.g.length,R=[],N=0;N<S;N++)R[N]=~V.g[N];return new d(R,~V.h).add(C)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0,M=0;M<=S;M++){var P=N+(this.i(M)&65535)+(V.i(M)&65535),w=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=w>>>16,P&=65535,w&=65535,R[M]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Tt(V,S){return V.add(Z(S))}r.j=function(V){if(X(this)||X(V))return I;if(nt(this))return nt(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(nt(V))return Z(this.j(Z(V)));if(0>this.l(q)&&0>V.l(q))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var P=this.i(N)>>>16,w=this.i(N)&65535,Ve=V.i(M)>>>16,ie=V.i(M)&65535;R[2*N+2*M]+=w*ie,ft(R,2*N+2*M),R[2*N+2*M+1]+=P*ie,ft(R,2*N+2*M+1),R[2*N+2*M+1]+=w*Ve,ft(R,2*N+2*M+1),R[2*N+2*M+2]+=P*Ve,ft(R,2*N+2*M+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function ft(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ot(V,S){this.g=V,this.h=S}function Nt(V,S){if(X(S))throw Error("division by zero");if(X(V))return new ot(I,I);if(nt(V))return S=Nt(Z(V),S),new ot(Z(S.g),Z(S.h));if(nt(S))return S=Nt(V,Z(S)),new ot(Z(S.g),S.h);if(30<V.g.length){if(nt(V)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=C,N=S;0>=N.l(V);)R=_t(R),N=_t(N);var M=Vt(R,1),P=Vt(N,1);for(N=Vt(N,2),R=Vt(R,2);!X(N);){var w=P.add(N);0>=w.l(V)&&(M=M.add(R),P=w),N=Vt(N,1),R=Vt(R,1)}return S=Tt(V,M.j(S)),new ot(M,S)}for(M=I;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=_(R),w=P.j(S);nt(w)||0<w.l(V);)R-=N,P=_(R),w=P.j(S);X(P)&&(P=C),M=M.add(P),V=Tt(V,w)}return new ot(M,V)}r.A=function(V){return Nt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&V.i(N);return new d(R,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|V.i(N);return new d(R,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^V.i(N);return new d(R,this.h^V.h)};function _t(V){for(var S=V.g.length+1,R=[],N=0;N<S;N++)R[N]=V.i(N)<<1|V.i(N-1)>>>31;return new d(R,V.h)}function Vt(V,S){var R=S>>5;S%=32;for(var N=V.g.length-R,M=[],P=0;P<N;P++)M[P]=0<S?V.i(P+R)>>>S|V.i(P+R+1)<<32-S:V.i(P+R);return new d(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,S0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ir=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b0,sl,R0,dc,Vd,w0,I0,C0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function C(u,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,C.apply(null,arguments)}function q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[U].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let W=0;W<j;W++)u[U+W]=T[W]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var _t=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Vt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,y){const T=ie.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,Lt=new Ve,D=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){P(y)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Nt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}X(Rt,J);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Gi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,y,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=zr(u,m,T,U);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new Ln(m,this.src,j,!!T,U),m.fa=y,u.push(m)),m};function Lr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(Gi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function zr(u,m,y,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==T)return U}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Ya={};function Ml(u,m,y,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Ml(u,m[j],y,T,U);return null}return y=xl(y),u&&u[Re]?u.K(m,y,_(T)?!!T.capture:!1,U):pn(u,m,y,!1,T,U)}function pn(u,m,y,T,U,j){if(!m)throw Error("Invalid event type");var W=_(U)?!!U.capture:!!U,Mt=Ms(u);if(Mt||(u[Br]=Mt=new ui(u)),y=Mt.add(m,y,T,W,j),y.proxy)return y;if(T=sh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)lt||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(jr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function sh(){function u(y){return m.call(u.src,u.listener,y)}const m=ah;return u}function Xa(u,m,y,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Xa(u,m[j],y,T,U);else T=_(T)?!!T.capture:!!T,y=xl(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=zr(j,y,T,U),-1<y&&(Gi(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ms(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,y,T,U)),(y=-1<u?m[u]:null)&&Vs(y))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Lr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(jr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ms(m))?(Lr(y,u),y.h==0&&(y.src=null,m[Br]=null)):Gi(u)}}}function jr(u){return u in Ya?Ya[u]:Ya[u]="on"+u}function ah(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Vs(u),u=y.call(T,m)}return u}function Ms(u){return u=u[Br],u instanceof ui?u:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function re(){et.call(this),this.i=new ui(this),this.M=this,this.F=null}X(re,et),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,m,y,T){Xa(this,u,m,y,T)};function qt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(T,u),N(m,U)}if(U=!0,y)for(var j=y.length-1;0<=j;j--){var W=m.g=y[j];U=sn(W,T,!0,m)&&U}if(W=m.g=u,U=sn(W,T,!0,m)&&U,U=sn(W,T,!1,m)&&U,y)for(j=0;j<y.length;j++)W=m.g=y[j],U=sn(W,T,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Gi(y[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},re.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function sn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==y){var Mt=W.listener,_e=W.ha||W.src;W.fa&&Lr(u.i,W),U=Mt.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function je(u,m,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Pl(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,Pl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class oh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){et.call(this),this.h=u,this.g={}}X(qr,et);var Hr=[];function Gr(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Vs(m)},u),u.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Gr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,xs=g.JSON.parse,Fr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Za(){}Za.prototype.h=null;function Ja(u){return u.h||(u.h=u.i())}function Wa(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){J.call(this,"d")}X(hi,J);function to(){J.call(this,"c")}X(to,J);var zn={},eo=null;function Fi(){return eo=eo||new re}zn.La="serverreachability";function Ps(u){J.call(this,zn.La,u)}X(Ps,J);function Qi(u){const m=Fi();qt(m,new Ps(m))}zn.STAT_EVENT="statevent";function Ul(u,m){J.call(this,zn.STAT_EVENT,u),this.stat=m}X(Ul,J);function Wt(u){const m=Fi();qt(m,new Ul(m,u))}zn.Ma="timingevent";function ye(u,m){J.call(this,zn.Ma,u),this.size=m}X(ye,J);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function no(u,m,y,T,U,j){u.info(function(){if(u.g)if(j)for(var W="",Mt=j.split("&"),_e=0;_e<Mt.length;_e++){var xt=Mt[_e].split("=");if(1<xt.length){var Ie=xt[0];xt=xt[1];var ve=Ie.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ie+"="+xt+"&"):W+(Ie+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+W})}function lh(u,m,y,T,U,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+j+" "+W})}function Ki(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qr(u,y)+(T?" "+T:"")})}function kl(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Qr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Dn(y)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function jn(){}X(jn,Za),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Bn=new jn;function Ye(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var io={},Us={};function On(u,m,y){u.L=1,u.v=Zr(an(m)),u.m=y,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Kr(u),u.A=an(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),uo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=Wl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new oh(C(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Hr[0]=U.toString()),U=Hr);for(var j=0;j<U.length;j++){var W=Ml(y,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),no(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=Tn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Fl(this.g)))){this.J||ve!=4||m==7||(m==8||0>=Ti?Qi(3):Qi(2)),Xi(this);var y=this.g.Z();this.X=y;e:if(Ll(this)){var T=Fl(this.g);u="";var U=T.length,j=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),qn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,lh(this.i,this.u,this.A,this.l,this.R,ve,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,_e=this.g;if((Mt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Mt)){var xt=Mt;break e}}xt=null}if(y=xt)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,y);else{this.o=!1,this.s=3,Wt(12),Me(this),qn(this);break t}}if(this.P){y=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=zl(this,W),xe==Us){ve==4&&(this.s=4,Wt(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==io){this.s=4,Wt(15),Ki(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,xe,null),Yr(this,xe);if(Ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),qn(this);else if(0<W.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ss(Ie),Ie.M=!0,Wt(11))}}else Ki(this.i,this.l,W,null),Yr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?$l(this.j,this):(this.o=!1,Kr(this)))}else dh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),qn(this)}}}catch{}finally{}};function Ll(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Us:(y=Number(m.substring(y,T)),isNaN(y)?io:(T+=1,T+y>m.length?Us:(m=m.slice(T,T+y),u.C=T+y,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Kr(u){u.S=Date.now()+u.I,Bl(u,u.I)}function Bl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(C(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(kl(this.i,this.A),this.L!=2&&(Qi(),Wt(17)),Me(this),this.s=2,qn(this)):Bl(this,this.S-u)};function qn(u){u.j.G==0||u.J||$l(u.j,u)}function Me(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Gr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ro(y.h,u))){if(!u.K&&ro(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ys(y),Qs(y);else break t;go(y),Wt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(C(y.Za,y),6e3));if(1>=Ls(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ei(y,11)}else if((u.K||y.g==u)&&Ys(y),!ft(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let xt=U[m];if(y.T=xt[0],xt=xt[1],y.G==2)if(xt[0]=="c"){y.K=xt[1],y.ia=xt[2];const Ie=xt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const ve=xt[4];ve!=null&&(y.Aa=ve,y.j.info("SVER="+y.Aa));const Ti=xt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const xe=u.g;if(xe){const Xn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var j=T.h;j.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(zs(j,j.h),j.h=null))}if(T.D){const yo=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(T.ya=yo,Ft(T.I,T.D,yo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=Jl(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Mt=W,_e=T.L;_e&&(Mt.I=_e),Mt.B&&(Xi(Mt),Kr(Mt)),T.g=W}else Yl(T);0<y.i.length&&Ks(y)}else xt[0]!="stop"&&xt[0]!="close"||Ei(y,7);else y.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ei(y,7):fo(y):xt[0]!="noop"&&y.l&&y.l.ta(xt),y.v=0)}}Qi(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ls(u){return u.h?1:u.g?u.g.size:0}function ro(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zs(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function so(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function uh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ao(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Bs(u),T=uh(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],y&&y[j],u)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var j=u[y].substring(0,T);U=u[y].substring(T+1)}else j=u[y];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,y=new pi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),gi(this,y),this.m=u.m}else u&&(m=String(u).match(Xr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),$i(this,m[4]),this.l=_n(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Jr(m,oo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jr(m,oo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Jr(y,y.charAt(0)=="/"?hh:lo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Jr(y,js)),u.join("")};function an(u){return new de(u)}function $r(u,m,y){u.j=y?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,y){m instanceof pi?(u.i=m,Hl(u.i,u.h)):(y||(m=Jr(m,fh)),u.i=new pi(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function Zr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,lo=/[#\?:]/g,hh=/[#\?]/g,fh=/[#\?@]/g,js=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&ch(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=pi.prototype,r.add=function(u,m){vn(this),this.i=null,u=Hn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function yi(u,m){vn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return vn(u),m=Hn(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)y.push(m[T])}return y},r.V=function(u){vn(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return vn(this),this.i=null,u=Hn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function uo(u,m,y){yi(u,m),0<y.length&&(u.i=null,u.g.set(Hn(u,m),nt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=j;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hl(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(yi(this,T),uo(this,U,y))},u)),u.j=m}function Wr(u,m){const y=new yn;if(g.Image){const T=new Image;T.onload=q(En,y,"TestLoadImage: loaded",!0,m,T),T.onerror=q(En,y,"TestLoadImage: error",!1,m,T),T.onabort=q(En,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(En,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const y=new yn,T=new AbortController,U=setTimeout(()=>{T.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function ts(){this.g=new Fr}function Gn(u,m,y){const T=y||"";try{ao(u,function(U,j){let W=U;_(U)&&(W=Dn(U)),m.push(T+j+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Zi,Za),Zi.prototype.g=function(){return new vi(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(vi,re),r=vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;co(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function co(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&co(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},r.Qa=function(u){this.g&&(this.response=u,Fn(this))},r.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ho(u){let m="";return Vt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function we(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=ho(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function Bt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Bt,re);var qs=/^https?$/i,es=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Ja(this.o):Ja(Bn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Gl(this,j);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())y.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of y)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Gl(this,j)}};function Gl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Hs(u),Kn(u)}function Hs(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Gs(this):this.bb())},r.bb=function(){Gs(this)};function Gs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)je(u.Ea,0,u);else if(qt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var U=String(u.D).match(Xr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!qs.test(U?U.toLowerCase():"")}y=T}if(y)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<Tn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Hs(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){ns(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{y.onreadystatechange=T}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xs(m)}};function Fl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ft(u[T]))continue;var y=M(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[U]||[];m[U]=j,j.push(y)}V(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Fs(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){Wt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Jl(this,null,this.W),Ks(this)};function fo(u){if(Ql(u),u.G==3){var m=u.U++,y=an(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),rs(u,y),m=new Ye(u,u.j,m),m.L=2,m.v=Zr(an(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Wl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kr(m)}Zl(u)}function Qs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function Ql(u){Qs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ys(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ks(u){if(!ks(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||D(),at||(tt(),at=!0),Lt.add(m,u),u.B=0}}function mh(u,m){return Ls(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(C(u.Ga,u,m),po(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Kl(this,U,m),y=an(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),rs(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(ho(j)))+"&"+m:this.m&&we(y,this.m,j)),zs(this.h,U),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),U.T=!0,On(U,y,null)):On(U,y,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||ks(this.h)||mo(this))};function mo(u,m){var y;m?y=m.l:y=u.U++;const T=an(u.I);Ft(T,"SID",u.K),Ft(T,"RID",y),Ft(T,"AID",u.T),rs(u,T),u.m&&u.o&&we(T,u.m,u.o),y=new Ye(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Kl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zs(u.h,y),On(y,T,m)}function rs(u,m){u.H&&Vt(u.H,function(y,T){Ft(m,T,y)}),u.l&&ao({},function(y,T){Ft(m,T,y)})}function Kl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?C(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const W=["count="+y];j==-1?0<y?(j=U[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Mt=!0;for(let _e=0;_e<y;_e++){let xt=U[_e].g;const Ie=U[_e].map;if(xt-=j,0>xt)j=Math.max(0,U[_e].g-100),Mt=!1;else try{Gn(Ie,W,"req"+xt+"_")}catch{T&&T(Ie)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Yl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||D(),at||(tt(),at=!0),Lt.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(C(u.Fa,u),po(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Qs(this),Xl(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Zr(an(m)),y.m=null,y.P=!0,di(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Qs(this),go(this),Wt(19))};function Ys(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function $l(u,m){var y=null;if(u.g==m){Ys(u),ss(u),u.g=null;var T=2}else if(ro(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Fi(),qt(T,new ye(T,y)),Ks(u)}else Yl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&mh(u,m)||T==2&&go(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function po(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var y=C(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$r(T,"https"),Zr(T),U?Wr(T.toString(),y):Nn(T.toString(),y)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Zl(u),Ql(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Zl(u){if(u.G=0,u.ka=[],u.l){const m=so(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Jl(u,m,y){var T=y instanceof de?an(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),$i(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new de(null);T&&$r(j,T),m&&(j.g=m),U&&$i(j,U),y&&(j.l=y),T=j}return y=u.D,m=u.ya,y&&m&&Ft(T,y,m),Ft(T,"VER",u.la),rs(u,T),T}function Wl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Zi({eb:y})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}r=tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xs(){}Xs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){re.call(this),this.g=new Fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}X($e,re),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){fo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Dn(u),u=y);m.i.push(new jl(m.Ya++,u)),m.G==3&&Ks(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,$e.aa.N.call(this)};function eu(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(eu,hi);function nu(){to.call(this),this.status=1}X(nu,to);function Yn(u){this.g=u}X(Yn,tu),Yn.prototype.ua=function(){qt(this.g,"a")},Yn.prototype.ta=function(u){qt(this.g,new eu(u))},Yn.prototype.sa=function(u){qt(this.g,new nu)},Yn.prototype.ra=function(){qt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,C0=function(){return new Xs},I0=function(){return Fi()},w0=zn,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,dc=Yi,fi.COMPLETE="complete",R0=fi,Wa.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",re.prototype.listen=re.prototype.K,sl=Wa,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,b0=Bt}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",z_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new $d("@firebase/firestore");function ba(){return Is.logLevel}function it(r,...t){if(Is.logLevel<=Dt.DEBUG){const i=t.map(cm);Is.debug(`Firestore (${Ga}): ${r}`,...i)}}function ji(r,...t){if(Is.logLevel<=Dt.ERROR){const i=t.map(cm);Is.error(`Firestore (${Ga}): ${r}`,...i)}}function xa(r,...t){if(Is.logLevel<=Dt.WARN){const i=t.map(cm);Is.warn(`Firestore (${Ga}): ${r}`,...i)}}function cm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,D0(r,a,i)}function D0(r,t,i){let a=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ji(a),new Error(a)}function jt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||D0(t,l,a)}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Hi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class ER{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class TR{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new O0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class AR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new AR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new B_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=RR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function bt(r,t){return r<t?-1:r>t?1:0}function Md(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return bt(a,l);{const c=N0(),d=wR(c.encode(j_(r,i)),c.encode(j_(t,i)));return d!==0?d:bt(a,l)}}i+=a>65535?2:1}return bt(r.length,t.length)}function j_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function wR(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return bt(r[i],t[i]);return bt(r.length,t.length)}function Pa(r,t,i){return r.length===t.length&&r.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-62135596800,H_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*H_);return new Se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<q_)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return bt(t.length,i.length)}static compareSegments(t,i){const a=ei.isNumericId(t),l=ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ei.extractNumericId(t).compare(ei.extractNumericId(i)):Md(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class oe extends ei{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ei{construct(t,i,a){return new ze(t,i,a)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new ze([G_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(oe.fromString(t))}static fromName(t){return new ht(oe.fromString(t).popFirst(5))}static empty(){return new ht(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function CR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Or(l,ht.empty(),t)}function DR(r){return new Or(r.readTime,r.key,pl)}class Or{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Or(vt.min(),ht.empty(),pl)}static max(){return new Or(vt.max(),ht.empty(),pl)}}function OR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==NR)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,a)=>{i(t)})}static reject(t){return new K((i,a)=>{a(t)})}static waitFor(t){return new K((i,a)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>a(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next(l=>l?K.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new K((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next(A=>{d[_]=A,++g,g===c&&a(d)},A=>l(A))}})}static doWhile(t,i){return new K((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function MR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Hc(r){return r==null}function wc(r){return r===0&&1/r==-1/0}function xR(r){return typeof r=="number"&&Number.isInteger(r)&&!wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="";function PR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=F_(t)),t=UR(r.get(i),t);return F_(t)}function UR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case M0:i+="";break;default:i+=c}}return i}function F_(r){return r+M0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function x0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,i){this.comparator=t,this.root=i||Le.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sc(this.root,t,this.comparator,!0)}}class sc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Le(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Le(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(t){return new K_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class K_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new mn([])}unionWith(t){let i=new be(ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Pa(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new P0("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const i=kR.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="server_timestamp",k0="__type__",L0="__previous_value__",z0="__local_write_time__";function fm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[k0])===null||i===void 0?void 0:i.stringValue)===U0}function Gc(r){const t=r.mapValue.fields[L0];return fm(t)?Gc(t):t}function yl(r){const t=Nr(r.mapValue.fields[z0].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,i,a,l,c,d,g,p,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ic="(default)";class _l{constructor(t,i){this.projectId=t,this.database=i||Ic}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(t){return t instanceof _l&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__type__",zR="__max__",ac={mapValue:{}},j0="__vector__",Cc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fm(r)?4:jR(r)?9007199254740991:BR(r)?10:11:gt(28295,{value:r})}function oi(r,t){if(r===t)return!0;const i=Mr(r);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return yl(r).isEqual(yl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Nr(l.timestampValue),g=Nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?wc(d)===wc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Pa(r.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Q_(d)!==Q_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(r,t);default:return gt(52216,{left:r})}}function vl(r,t){return(r.values||[]).find(i=>oi(i,t))!==void 0}function Ua(r,t){if(r===t)return 0;const i=Mr(r),a=Mr(t);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Y_(r.timestampValue,t.timestampValue);case 4:return Y_(yl(r),yl(t));case 5:return Md(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Vr(c),p=Vr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=bt(g[_],p[_]);if(A!==0)return A}return bt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=bt(he(c.latitude),he(d.latitude));return g!==0?g:bt(he(c.longitude),he(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return X_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,_,A;const I=c.fields||{},C=d.fields||{},q=(g=I[Cc])===null||g===void 0?void 0:g.arrayValue,X=(p=C[Cc])===null||p===void 0?void 0:p.arrayValue,nt=bt(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:X_(q,X)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===ac.mapValue&&d===ac.mapValue)return 0;if(c===ac.mapValue)return 1;if(d===ac.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const C=Md(p[I],A[I]);if(C!==0)return C;const q=Ua(g[p[I]],_[A[I]]);if(q!==0)return q}return bt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw gt(23264,{Pe:i})}}function Y_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return bt(r,t);const i=Nr(r),a=Nr(t),l=bt(i.seconds,a.seconds);return l!==0?l:bt(i.nanos,a.nanos)}function X_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ua(i[l],a[l]);if(c)return c}return bt(i.length,a.length)}function ka(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Nr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Vr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ht.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=xd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${xd(i.fields[d])}`;return l+"}"}(r.mapValue):gt(61005,{value:r})}function mc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gc(r);return t?16+mc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+mc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return Ur(a.fields,(c,d)=>{l+=c.length+mc(d)}),l}(r.mapValue);default:throw gt(13486,{value:r})}}function Pd(r){return!!r&&"integerValue"in r}function dm(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function Z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gc(r){return!!r&&"mapValue"in r}function BR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[B0])===null||i===void 0?void 0:i.stringValue)===j0}function cl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ur(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=cl(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=cl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function jR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=cl(i)}setAll(t){let i=ze.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=cl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ur(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new rn(cl(this.value))}}function q0(r){const t=[];return Ur(r.fields,(i,a)=>{const l=new ze([i]);if(gc(a)){const c=q0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,vt.min(),vt.min(),vt.min(),rn.empty(),0)}static newFoundDocument(t,i,a,l){return new Qe(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,vt.min(),vt.min(),rn.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,vt.min(),vt.min(),rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Ua(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function W_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!oi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i="asc"){this.field=t,this.dir=i}}function qR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{}class Ae extends H0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new GR(t,i,a):i==="array-contains"?new KR(t,a):i==="in"?new YR(t,a):i==="not-in"?new XR(t,a):i==="array-contains-any"?new $R(t,a):new Ae(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new FR(t,a):new QR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ua(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Ua(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends H0{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new li(t,i)}matches(t){return G0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function G0(r){return r.op==="and"}function F0(r){return HR(r)&&G0(r)}function HR(r){for(const t of r.filters)if(t instanceof li)return!1;return!0}function Ud(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+ka(r.value);if(F0(r))return r.filters.map(t=>Ud(t)).join(",");{const t=r.filters.map(i=>Ud(i)).join(",");return`${r.op}(${t})`}}function Q0(r,t){return r instanceof Ae?function(a,l){return l instanceof Ae&&a.op===l.op&&a.field.isEqual(l.field)&&oi(a.value,l.value)}(r,t):r instanceof li?function(a,l){return l instanceof li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&Q0(d,l.filters[g]),!0):!1}(r,t):void gt(19439)}function K0(r){return r instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ka(i.value)}`}(r):r instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(K0).join(" ,")+"}"}(r):"Filter"}class GR extends Ae{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class FR extends Ae{constructor(t,i){super(t,"in",i),this.keys=Y0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class QR extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=Y0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Y0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ht.fromName(a.referenceValue))}class KR extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&vl(i.arrayValue,this.value)}}class YR extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vl(this.value.arrayValue,i)}}class XR extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vl(this.value.arrayValue,i)}}class $R extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>vl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function tv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new ZR(r,t,i,a,l,c,d)}function mm(r){const t=Et(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Ud(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Hc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>ka(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>ka(a)).join(",")),t.Ie=i}return t.Ie}function gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!qR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Q0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!W_(r.startAt,t.startAt)&&W_(r.endAt,t.endAt)}function kd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JR(r,t,i,a,l,c,d,g){return new Fc(r,t,i,a,l,c,d,g)}function pm(r){return new Fc(r)}function ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WR(r){return r.collectionGroup!==null}function hl(r){const t=Et(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Oc(c,a))}),i.has(ze.keyField().canonicalString())||t.Ee.push(new Oc(ze.keyField(),a))}return t.Ee}function ii(r){const t=Et(r);return t.de||(t.de=tw(t,hl(r))),t.de}function tw(r,t){if(r.limitType==="F")return tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Oc(l.field,c)});const i=r.endAt?new Dc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Dc(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Ld(r,t,i){return new Fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Qc(r,t){return gm(ii(r),ii(t))&&r.limitType===t.limitType}function X0(r){return`${mm(ii(r))}|lt:${r.limitType}`}function Ra(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>K0(l)).join(", ")}]`),Hc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>ka(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>ka(l)).join(",")),`Target(${a})`}(ii(r))}; limitType=${r.limitType})`}function Kc(r,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,l){for(const c of hl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(d,g,p){const _=J_(d,g,p);return d.inclusive?_<=0:_<0}(a.startAt,hl(a),l)||a.endAt&&!function(d,g,p){const _=J_(d,g,p);return d.inclusive?_>=0:_>0}(a.endAt,hl(a),l))}(r,t)}function ew(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $0(r){return(t,i)=>{let a=!1;for(const l of hl(r)){const c=nw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function nw(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ua(p,_):gt(42886)}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ur(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return x0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new ne(ht.comparator);function qi(){return iw}const Z0=new ne(ht.comparator);function al(...r){let t=Z0;for(const i of r)t=t.insert(i.key,i);return t}function J0(r){let t=Z0;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Ss(){return fl()}function W0(){return fl()}function fl(){return new Os(r=>r.toString(),(r,t)=>r.isEqual(t))}const rw=new ne(ht.comparator),sw=new be(ht.comparator);function Ot(...r){let t=sw;for(const i of r)t=t.add(i);return t}const aw=new be(bt);function ow(){return aw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(t)?"-0":t}}function tE(r){return{integerValue:""+r}}function lw(r,t){return xR(t)?tE(t):ym(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function uw(r,t,i){return r instanceof Nc?function(l,c){const d={fields:{[k0]:{stringValue:U0},[z0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&fm(c)&&(c=Gc(c)),c&&(d.fields[L0]=c),{mapValue:d}}(i,t):r instanceof La?nE(r,t):r instanceof El?iE(r,t):function(l,c){const d=eE(l,c),g=nv(d)+nv(l.Re);return Pd(d)&&Pd(l.Re)?tE(g):ym(l.serializer,g)}(r,t)}function cw(r,t,i){return r instanceof La?nE(r,t):r instanceof El?iE(r,t):i}function eE(r,t){return r instanceof Vc?function(a){return Pd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Nc extends Yc{}class La extends Yc{constructor(t){super(),this.elements=t}}function nE(r,t){const i=rE(t);for(const a of r.elements)i.some(l=>oi(l,a))||i.push(a);return{arrayValue:{values:i}}}class El extends Yc{constructor(t){super(),this.elements=t}}function iE(r,t){let i=rE(t);for(const a of r.elements)i=i.filter(l=>!oi(l,a));return{arrayValue:{values:i}}}class Vc extends Yc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function nv(r){return he(r.integerValue||r.doubleValue)}function rE(r){return dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,i){this.field=t,this.transform=i}}function fw(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof La&&l instanceof La||a instanceof El&&l instanceof El?Pa(a.elements,l.elements,oi):a instanceof Vc&&l instanceof Vc?oi(a.Re,l.Re):a instanceof Nc&&l instanceof Nc}(r.transform,t.transform)}class dw{constructor(t,i){this.version=t,this.transformResults=i}}class ri{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Xc{}function sE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new oE(r.key,ri.none()):new Cl(r.key,r.data,ri.none());{const i=r.data,a=rn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new kr(r.key,a,new mn(l.toArray()),ri.none())}}function mw(r,t,i){r instanceof Cl?function(l,c,d){const g=l.value.clone(),p=rv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof kr?function(l,c,d){if(!pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=rv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(aE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function dl(r,t,i,a){return r instanceof Cl?function(c,d,g,p){if(!pc(c.precondition,d))return g;const _=c.value.clone(),A=sv(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,i,a):r instanceof kr?function(c,d,g,p){if(!pc(c.precondition,d))return g;const _=sv(c.fieldTransforms,p,d),A=d.data;return A.setAll(aE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,i,a):function(c,d,g){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function gw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=eE(a.transform,l||null);c!=null&&(i===null&&(i=rn.empty()),i.set(a.field,c))}return i||null}function iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Pa(a,l,(c,d)=>fw(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Cl extends Xc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class kr extends Xc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function rv(r,t,i){const a=new Map;jt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,cw(d,g,i[l]))}return a}function sv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,uw(c,d,t))}return a}class oE extends Xc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends Xc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&mw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=W0();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=sE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Pa(this.mutations,t.mutations,(i,a)=>iv(i,a))&&Pa(this.baseMutations,t.baseMutations,(i,a)=>iv(i,a))}}class _m{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return rw}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new _m(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function Ew(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function lE(r){if(r===void 0)return ji("GRPC error has no .code"),$.UNKNOWN;switch(r){case pe.OK:return $.OK;case pe.CANCELLED:return $.CANCELLED;case pe.UNKNOWN:return $.UNKNOWN;case pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pe.INTERNAL:return $.INTERNAL;case pe.UNAVAILABLE:return $.UNAVAILABLE;case pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pe.NOT_FOUND:return $.NOT_FOUND;case pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pe.ABORTED:return $.ABORTED;case pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pe.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Ir([4294967295,4294967295],0);function av(r){const t=N0().encode(r),i=new S0;return i.update(t),new Uint8Array(i.digest())}function ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ir([i,a],0),new Ir([l,c],0)]}class vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ol(`Invalid padding: ${i}`);if(a<0)throw new ol(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ol(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Ir.fromNumber(this.pe)}we(t,i,a){let l=t.add(i.multiply(Ir.fromNumber(a)));return l.compare(Tw)===1&&(l=new Ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=av(t),[a,l]=ov(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);if(!this.Se(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new vm(c,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=av(t),[a,l]=ov(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Dl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new $c(vt.min(),l,new ne(bt),qi(),Ot())}}class Dl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Dl(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,i,a,l){this.De=t,this.removedTargetIds=i,this.key=a,this.ve=l}}class uE{constructor(t,i){this.targetId=t,this.Ce=i}}class cE{constructor(t,i,a=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class lv{constructor(){this.Fe=0,this.Me=uv(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ot(),i=Ot(),a=Ot();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}}),new Dl(this.xe,this.Oe,t,i,a)}Qe(){this.Ne=!1,this.Me=uv()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Aw{constructor(t){this.ze=t,this.je=new Map,this.He=qi(),this.Je=oc(),this.Ye=oc(),this.Ze=new ne(bt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const a=this.rt(i);switch(t.state){case 0:this.it(i)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(t.resumeToken));break;default:gt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((a,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,a=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(kd(c))if(a===0){const d=new ht(c.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Vr(a).toUint8Array()}catch(p){if(p instanceof P0)return xa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new vm(d,l,c)}catch(p){return xa(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,i,a){return i.Ce.count===a-this.Tt(t,i.targetId)?0:2}Tt(t,i){const a=this.ze.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&kd(g.target)){const p=new ht(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let a=Ot();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new $c(t,i,this.Ze,this.He,a);return this.He=qi(),this.Je=oc(),this.Ye=oc(),this.Ze=new ne(bt),l}et(t,i){if(!this.it(t))return;const a=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),a&&(this.He=this.He.insert(i,a))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new lv,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new be(bt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new be(bt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new lv),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function oc(){return new ne(ht.comparator)}function uv(){return new ne(ht.comparator)}const Sw={asc:"ASCENDING",desc:"DESCENDING"},bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rw={and:"AND",or:"OR"};class ww{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function zd(r,t){return r.useProto3Json||Hc(t)?t:{value:t}}function Mc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Iw(r,t){return Mc(r,t.toTimestamp())}function si(r){return jt(!!r,49232),vt.fromTimestamp(function(i){const a=Nr(i);return new Se(a.seconds,a.nanos)}(r))}function Em(r,t){return Bd(r,t).canonicalString()}function Bd(r,t){const i=function(l){return new oe(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function fE(r){const t=oe.fromString(r);return jt(yE(t),10190,{key:t.toString()}),t}function jd(r,t){return Em(r.databaseId,t.path)}function vd(r,t){const i=fE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(mE(i))}function dE(r,t){return Em(r.databaseId,t)}function Cw(r){const t=fE(r);return t.length===4?oe.emptyPath():mE(t)}function qd(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mE(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cv(r,t,i){return{name:jd(r,t),fields:i.value.mapValue.fields}}function Dw(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const A=_.code===void 0?$.UNKNOWN:lE(_.code);return new ut(A,_.message||"")}(d);i=new cE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=vd(r,a.document.name),c=si(a.document.updateTime),d=a.document.createTime?si(a.document.createTime):vt.min(),g=new rn({mapValue:{fields:a.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new yc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=vd(r,a.document),c=a.readTime?si(a.readTime):vt.min(),d=Qe.newNoDocument(l,c),g=a.removedTargetIds||[];i=new yc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=vd(r,a.document),c=a.removedTargetIds||[];i=new yc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new vw(l,c),g=a.targetId;i=new uE(g,d)}}return i}function Ow(r,t){let i;if(t instanceof Cl)i={update:cv(r,t.key,t.value)};else if(t instanceof oE)i={delete:jd(r,t.key)};else if(t instanceof kr)i={update:cv(r,t.key,t.data),updateMask:zw(t.fieldMask)};else{if(!(t instanceof pw))return gt(16599,{ft:t.type});i={verify:jd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof La)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof El)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw gt(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Iw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)}(r,t.precondition)),i}function Nw(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(i=>function(l,c){let d=l.updateTime?si(l.updateTime):si(c);return d.isEqual(vt.min())&&(d=si(c)),new dw(d,l.transformResults||[])}(i,t))):[]}function Vw(r,t){return{documents:[dE(r,t.path)]}}function Mw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dE(r,l);const c=function(_){if(_.length!==0)return pE(li.create(_,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(C){return{field:wa(C.field),direction:Uw(C.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=zd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:i,parent:l}}function xw(r){let t=Cw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(I){const C=gE(I);return C instanceof li&&F0(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(C=>function(X){return new Oc(Ia(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(I){let C;return C=typeof I=="object"?I.value:I,Hc(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(I){const C=!!I.before,q=I.values||[];return new Dc(q,C)}(i.startAt));let _=null;return i.endAt&&(_=function(I){const C=!I.before,q=I.values||[];return new Dc(q,C)}(i.endAt)),JR(t,l,d,c,g,"F",p,_)}function Pw(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ia(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ia(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ia(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ia(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ae.create(Ia(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(a=>gE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(r):gt(30097,{filter:r})}function Uw(r){return Sw[r]}function kw(r){return bw[r]}function Lw(r){return Rw[r]}function wa(r){return{fieldPath:r.canonicalString()}}function Ia(r){return ze.fromServerFormat(r.fieldPath)}function pE(r){return r instanceof Ae?function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NAN"}};if($_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NOT_NAN"}};if($_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(i.field),op:kw(i.op),value:i.value}}}(r):r instanceof li?function(i){const a=i.getFilters().map(l=>pE(l));return a.length===1?a[0]:{compositeFilter:{op:Lw(i.op),filters:a}}}(r):gt(54877,{filter:r})}function zw(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function yE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.wt=t}}function jw(r){const t=xw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Cn=new Hw}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Or.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class Hw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new be(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new be(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(_E,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new za(0)}static lr(){return new za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LruGarbageCollector",Gw=1048576;function dv([r,t],[i,a]){const l=bt(r,i);return l===0?bt(t,a):l}class Fw{constructor(t){this.Er=t,this.buffer=new be(dv),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Qw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(fv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qa(i)?it(fv,"Ignoring IndexedDB error during garbage collection: ",i):await Fa(i)}await this.mr(3e5)})}}class Kw{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return K.resolve(qc.le);const a=new Fw(i);return this.gr.forEachTarget(t,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.gr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(hv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let a,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(a=I,g=Date.now(),this.removeTargets(t,a,i))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(I=>(_=Date.now(),ba()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function Yw(r,t){return new Kw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.changes=new Os(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&dl(a.mutation,l,mn.empty(),Se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Ot()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Ss();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let d=al();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Ss();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Ot()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let c=qi();const d=fl(),g=function(){return fl()}();return i.forEach((p,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof kr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),dl(A.mutation,_,A.mutation.getFieldMask(),Se.now())):d.set(_.key,mn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var I;return g.set(_,new $w(A,(I=d.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,i){const a=fl();let l=new ne((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=i.get(p);if(_===null)return;let A=a.get(p)||mn.empty();A=g.applyToLocalView(_,A),a.set(p,A);const I=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,I=W0();A.forEach(C=>{if(!c.has(C)){const q=sE(i.get(C),a.get(C));q!==null&&I.set(C,q),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):WR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):K.resolve(Ss());let g=pl,p=c;return d.next(_=>K.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(C=>{p=p.insert(A,C)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Ot())).next(A=>({batchId:g,changes:J0(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next(a=>{let l=al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=al();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const _=function(I,C){return new Fc(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next(A=>{A.forEach((I,C)=>{d=d.insert(I,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(d=>{c.forEach((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=al();return d.forEach((p,_)=>{const A=c.get(p);A!==void 0&&dl(A.mutation,_,mn.empty(),Se.now()),Kc(i,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return K.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(l){return{name:l.name,query:jw(l.bundledQuery),readTime:si(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.overlays=new ne(ht.comparator),this.Qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ss();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.bt(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=Ss(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Ss(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ss(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return K.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _w(i,a));let c=this.Qr.get(i);c===void 0&&(c=Ot(),this.Qr.set(i,c)),this.Qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.$r=new be(Ne.Ur),this.Kr=new be(Ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const a=new Ne(t,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.zr(new Ne(t,i))}jr(t,i){t.forEach(a=>this.removeReference(a,i))}Hr(t){const i=new ht(new oe([])),a=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.Kr.forEachInRange([a,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new ht(new oe([])),a=new Ne(i,t),l=new Ne(i,t+1);let c=Ot();return this.Kr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ne(t,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ne{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return ht.comparator(t.key,i.key)||bt(t.Zr,i.Zr)}static Wr(t,i){return bt(t.Zr,i.Zr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new be(Ne.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ti(a),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?hm:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([a,l],d=>{const g=this.ei(d.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new be(bt);return i.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{a=a.add(g.Zr)})}),K.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ht(c),0);let g=new be(bt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},d),K.resolve(this.ni(g))}ni(t){const i=[];return t.forEach(a=>{const l=this.ei(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){jt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return K.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,i){const a=new Ne(i,0),l=this.Xr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.ii=t,this.docs=function(){return new ne(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let a=qi();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=qi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||OR(DR(A),a)<=0||(l.has(A.key)||Kc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}si(t,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new iI(this)}getSize(t){return K.resolve(this.size)}}class iI extends Xw{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Br.addEntry(t,l)):this.Br.removeEntry(a)}),K.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.persistence=t,this.oi=new Os(i=>mm(i),gm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new Tm,this.targetCount=0,this.ui=za.cr()}forEachTarget(t,i){return this.oi.forEach((a,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),K.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new za(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Tr(i),K.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.oi.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this.ai.Gr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this.ai.jr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this.ai.Yr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,i){this.ci={},this.overlays={},this.li=new qc(0),this.hi=!1,this.hi=!0,this.Pi=new tI,this.referenceDelegate=t(this),this.Ti=new rI(this),this.indexManager=new qw,this.remoteDocumentCache=function(l){return new nI(l)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new Bw(i),this.Ei=new Jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ww,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ci[t.toKey()];return a||(a=new eI(i,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new sI(this.li.next());return this.referenceDelegate.di(),a(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,i){return K.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,i)))}}class sI extends VR{constructor(t){super(),this.currentSequenceNumber=t}}class Am{constructor(t){this.persistence=t,this.Vi=new Tm,this.mi=null}static fi(t){return new Am(t)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(t,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,a=>{const l=ht.fromPath(a);return this.pi(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return K.or([()=>K.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class xc{constructor(t,i){this.persistence=t,this.yi=new Os(a=>PR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=Yw(this,i)}static fi(t,i){return new xc(t,i)}di(){}Ai(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}Sr(t){let i=0;return this.yr(t,a=>{i++}).next(()=>i)}yr(t,i){return K.forEach(this.yi,(a,l)=>this.Dr(t,a,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,i).next(g=>{g||(a++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.yi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.yi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),K.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=mc(t.data.value)),i}Dr(t,i,a){return K.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.yi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.ds=a,this.As=l}static Rs(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Sm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JA()?8:MR(Ke())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ws(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Ss(t,i,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new aI;return this.bs(t,i,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,i,d,g.size)})}).next(()=>c.result)}Ds(t,i,a,l){return a.documentReadCount<this.gs?(ba()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ra(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(ba()<=Dt.DEBUG&&it("QueryEngine","Query:",Ra(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(ba()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ra(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):K.resolve())}ws(t,i){if(ev(i))return K.resolve(null);let a=ii(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Ld(i,null,"F"),a=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Ot(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(p=>{const _=this.vs(i,g);return this.Cs(i,_,d,p.readTime)?this.ws(t,Ld(i,null,"F")):this.Fs(t,_,i,p)}))})))}Ss(t,i,a,l){return ev(i)||l.isEqual(vt.min())?K.resolve(null):this.ys.getDocuments(t,a).next(c=>{const d=this.vs(i,c);return this.Cs(i,d,a,l)?K.resolve(null):(ba()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ra(i)),this.Fs(t,d,i,CR(l,pl)).next(g=>g))})}vs(t,i){let a=new be($0(t));return i.forEach((l,c)=>{Kc(t,c)&&(a=a.add(c))}),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}bs(t,i,a){return ba()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ra(i)),this.ys.getDocumentsMatchingQuery(t,i,Or.min(),a)}Fs(t,i,a,l){return this.ys.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",lI=3e8;class uI{constructor(t,i,a,l){this.persistence=t,this.Ms=i,this.serializer=l,this.xs=new ne(bt),this.Os=new Os(c=>mm(c),gm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function cI(r,t,i,a){return new uI(r,t,i,a)}async function EE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.Ls(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function hI(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const I=_.batch,C=I.keys();let q=K.resolve();return C.forEach(X=>{q=q.next(()=>A.getEntry(p,X)).next(nt=>{const Z=_.docVersions.get(X);jt(Z!==null,48541),nt.version.compareTo(Z)<0&&(I.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function TE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function fI(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});l=i.xs;const g=[];t.targetChanges.forEach((A,I)=>{const C=l.get(I);if(!C)return;g.push(i.Ti.removeMatchingKeys(c,A.removedDocuments,I).next(()=>i.Ti.addMatchingKeys(c,A.addedDocuments,I)));let q=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?q=q.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,a)),l=l.insert(I,q),function(nt,Z,Tt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=lI?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(C,q,A)&&g.push(i.Ti.updateTargetData(c,q))});let p=qi(),_=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(dI(c,d,t.documentUpdates).next(A=>{p=A.qs,_=A.Qs})),!a.isEqual(vt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(c).next(I=>i.Ti.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(i.xs=l,c))}function dI(r,t,i){let a=Ot(),l=Ot();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=qi();return i.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(bm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:d,Qs:l}})}function mI(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function gI(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Ti.getTargetData(a,t).next(c=>c?(l=c,K.resolve(l)):i.Ti.allocateTargetId(a).next(d=>(l=new Sr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(t,a.targetId)),a})}async function Hd(r,t,i){const a=Et(r),l=a.xs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Qa(d))throw d;it(bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.xs=a.xs.remove(t),a.Os.delete(l.target)}function mv(r,t,i){const a=Et(r);let l=vt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,A){const I=Et(p),C=I.Os.get(A);return C!==void 0?K.resolve(I.xs.get(C)):I.Ti.getTargetData(_,A)}(a,d,ii(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ot())).next(g=>(pI(a,ew(t),g),{documents:g,$s:c})))}function pI(r,t,i){let a=r.Ns.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Ns.set(t,a)}class gv{constructor(){this.activeTargetIds=ow()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yI{constructor(){this.xo=new gv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,a){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="ConnectivityMonitor";class yv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(pv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function Gd(){return lc===null?lc=function(){return 268435456+Math.round(2147483648*Math.random())}():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===Ic?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(t,i,a,l,c){const d=Gd(),g=this.jo(t,i.toUriEncodedString());it(Ed,`Sending RPC '${t}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),A=Al(_);return this.Jo(t,g,p,a,A).then(I=>(it(Ed,`Received RPC '${t}' ${d}: `,I),I),I=>{throw xa(Ed,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",a),I})}Yo(t,i,a,l,c,d){return this.zo(t,i,a,l,c)}Ho(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}jo(t,i){const a=vI[t];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class AI extends EI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Gd();return new Promise((g,p)=>{const _=new b0;_.setWithCredentials(!0),_.listenOnce(R0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case dc.NO_ERROR:const I=_.getResponseJson();it(Ge,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case dc.TIMEOUT:it(Ge,`RPC '${t}' ${d} timed out`),p(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const C=_.getStatus();if(it(Ge,`RPC '${t}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const X=q==null?void 0:q.error;if(X&&X.status&&X.message){const nt=function(Tt){const ft=Tt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ft)>=0?ft:$.UNKNOWN}(X.status);p(new ut(nt,X.message))}else p(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ut($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ge,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Ge,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)})}T_(t,i,a){const l=Gd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=C0(),g=I0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);let C=!1,q=!1;const X=new TI({Zo:Z=>{q?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(C||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),I.open(),C=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Xo:()=>I.close()}),nt=(Z,Tt,ft)=>{Z.listen(Tt,ot=>{try{ft(ot)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return nt(I,sl.EventType.OPEN,()=>{q||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),X.__())}),nt(I,sl.EventType.CLOSE,()=>{q||(q=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),X.u_())}),nt(I,sl.EventType.ERROR,Z=>{q||(q=!0,xa(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),X.u_(new ut($.UNAVAILABLE,"The operation could not be completed")))}),nt(I,sl.EventType.MESSAGE,Z=>{var Tt;if(!q){const ft=Z.data[0];jt(!!ft,16349);const ot=ft,Nt=(ot==null?void 0:ot.error)||((Tt=ot[0])===null||Tt===void 0?void 0:Tt.error);if(Nt){it(Ge,`RPC '${t}' stream ${l} received error:`,Nt);const _t=Nt.status;let Vt=function(R){const N=pe[R];if(N!==void 0)return lE(N)}(_t),V=Nt.message;Vt===void 0&&(Vt=$.INTERNAL,V="Unknown error status: "+_t+" with message "+Nt.message),q=!0,X.u_(new ut(Vt,V)),I.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,ft),X.c_(ft)}}),nt(g,w0.STAT_EVENT,Z=>{Z.stat===Vd.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Vd.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r){return new ww(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=i,this.I_=a,this.E_=l,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const i=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="PersistentStream";class SE{constructor(t,i,a,l,c,d,g,p){this.xi=t,this.y_=a,this.w_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new AE(t,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.S_===i&&this.K_(a,l)},a=>{t(()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(l)})})}K_(t,i){const a=this.U_(this.S_);this.stream=this.G_(t,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.W_(l))}),this.stream.onMessage(l=>{a(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return it(_v,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return i=>{this.xi.enqueueAndForget(()=>this.S_===t?i():(it(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SI extends SE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}G_(t,i){return this.connection.T_("Listen",t,i)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const i=Dw(this.serializer,t),a=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?si(d.readTime):vt.min()}(t);return this.listener.j_(i,a)}H_(t){const i={};i.database=qd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=kd(p)?{documents:Vw(c,p)}:{query:Mw(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hE(c,d.resumeToken);const _=zd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Mc(c,d.snapshotVersion.toTimestamp());const _=zd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const a=Pw(this.serializer,t);a&&(i.labels=a),this.L_(i)}J_(t){const i={};i.database=qd(this.serializer),i.removeTarget=t,this.L_(i)}}class bI extends SE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,i){return this.connection.T_("Write",t,i)}z_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const i=Nw(t.writeResults,t.commitTime),a=si(t.commitTime);return this.listener.ea(a,i)}ta(){const t={};t.database=qd(this.serializer),this.L_(t)}Z_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>Ow(this.serializer,a))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{}class wI extends RI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.na=!1}ra(){if(this.na)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,Bd(i,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())})}Yo(t,i,a,l,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,Bd(i,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class II{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ji(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="RemoteStore";class CI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(d=>{a.enqueueAndForget(async()=>{Ns(this)&&(it(Cs,"Restarting streams for network reachability change."),await async function(p){const _=Et(p);_.Ta.add(4),await Ol(_),_.da.set("Unknown"),_.Ta.delete(4),await Jc(_)}(this))})}),this.da=new II(a,l)}}async function Jc(r){if(Ns(r))for(const t of r.Ia)await t(!0)}async function Ol(r){for(const t of r.Ia)await t(!1)}function bE(r,t){const i=Et(r);i.Pa.has(t.targetId)||(i.Pa.set(t.targetId,t),Cm(i)?Im(i):Ka(i).M_()&&wm(i,t))}function Rm(r,t){const i=Et(r),a=Ka(i);i.Pa.delete(t),a.M_()&&RE(i,t),i.Pa.size===0&&(a.M_()?a.N_():Ns(i)&&i.da.set("Unknown"))}function wm(r,t){if(r.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ka(r).H_(t)}function RE(r,t){r.Aa.Ke(t),Ka(r).J_(t)}function Im(r){r.Aa=new Aw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Pa.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ka(r).start(),r.da._a()}function Cm(r){return Ns(r)&&!Ka(r).F_()&&r.Pa.size>0}function Ns(r){return Et(r).Ta.size===0}function wE(r){r.Aa=void 0}async function DI(r){r.da.set("Online")}async function OI(r){r.Pa.forEach((t,i)=>{wm(r,t)})}async function NI(r,t){wE(r),Cm(r)?(r.da.ca(t),Im(r)):r.da.set("Unknown")}async function VI(r,t,i){if(r.da.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Pa.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Pa.delete(g),l.Aa.removeTarget(g))}(r,t)}catch(a){it(Cs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Pc(r,a)}else if(t instanceof yc?r.Aa.Xe(t):t instanceof uE?r.Aa.ot(t):r.Aa.nt(t),!i.isEqual(vt.min()))try{const a=await TE(r.localStore);i.compareTo(a)>=0&&await function(c,d){const g=c.Aa.It(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Pa.get(_);A&&c.Pa.set(_,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const A=c.Pa.get(p);if(!A)return;c.Pa.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),RE(c,p);const I=new Sr(A.target,p,_,A.sequenceNumber);wm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){it(Cs,"Failed to raise snapshot:",a),await Pc(r,a)}}async function Pc(r,t,i){if(!Qa(t))throw t;r.Ta.add(1),await Ol(r),r.da.set("Offline"),i||(i=()=>TE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Cs,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await Jc(r)})}function IE(r,t){return t().catch(i=>Pc(r,i,t))}async function Wc(r){const t=Et(r),i=xr(t);let a=t.ha.length>0?t.ha[t.ha.length-1].batchId:hm;for(;MI(t);)try{const l=await mI(t.localStore,a);if(l===null){t.ha.length===0&&i.N_();break}a=l.batchId,xI(t,l)}catch(l){await Pc(t,l)}CE(t)&&DE(t)}function MI(r){return Ns(r)&&r.ha.length<10}function xI(r,t){r.ha.push(t);const i=xr(r);i.M_()&&i.Y_&&i.Z_(t.mutations)}function CE(r){return Ns(r)&&!xr(r).F_()&&r.ha.length>0}function DE(r){xr(r).start()}async function PI(r){xr(r).ta()}async function UI(r){const t=xr(r);for(const i of r.ha)t.Z_(i.mutations)}async function kI(r,t,i){const a=r.ha.shift(),l=_m.from(a,t,i);await IE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Wc(r)}async function LI(r,t){t&&xr(r).Y_&&await async function(a,l){if(function(d){return Ew(d)&&d!==$.ABORTED}(l.code)){const c=a.ha.shift();xr(a).O_(),await IE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Wc(a)}}(r,t),CE(r)&&DE(r)}async function vv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Cs,"RemoteStore received new credentials");const a=Ns(i);i.Ta.add(3),await Ol(i),a&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ta.delete(3),await Jc(i)}async function zI(r,t){const i=Et(r);t?(i.Ta.delete(2),await Jc(i)):t||(i.Ta.add(2),await Ol(i),i.da.set("Unknown"))}function Ka(r){return r.Ra||(r.Ra=function(i,a,l){const c=Et(i);return c.ra(),new SI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:DI.bind(null,r),n_:OI.bind(null,r),i_:NI.bind(null,r),j_:VI.bind(null,r)}),r.Ia.push(async t=>{t?(r.Ra.O_(),Cm(r)?Im(r):r.da.set("Unknown")):(await r.Ra.stop(),wE(r))})),r.Ra}function xr(r){return r.Va||(r.Va=function(i,a,l){const c=Et(i);return c.ra(),new bI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:PI.bind(null,r),i_:LI.bind(null,r),X_:UI.bind(null,r),ea:kI.bind(null,r)}),r.Ia.push(async t=>{t?(r.Va.O_(),await Wc(r)):(await r.Va.stop(),r.ha.length>0&&(it(Cs,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Dm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(r,t){if(ji("AsyncQueue",`${t}: ${r}`),Qa(r))return new ut($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(t){return new Na(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=al(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Na)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Na;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.ma=new ne(ht.comparator)}track(t){const i=t.doc.key,a=this.ma.get(i);a?t.type!==0&&a.type===3?this.ma=this.ma.insert(i,t):t.type===3&&a.type!==1?this.ma=this.ma.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ma=this.ma.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ma=this.ma.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ma=this.ma.remove(i):t.type===1&&a.type===2?this.ma=this.ma.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ma=this.ma.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,fa:a}):this.ma=this.ma.insert(i,t)}ga(){const t=[];return this.ma.inorderTraversal((i,a)=>{t.push(a)}),t}}class Ba{constructor(t,i,a,l,c,d,g,p,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ba(t,i,Na.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class jI{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Tv(),c.forEach((d,g)=>{for(const p of g.ya)p.onError(a)})})(this,new ut($.ABORTED,"Firestore shutting down"))}}function Tv(){return new Os(r=>X0(r),Qc)}async function qI(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.wa()&&t.Sa()&&(a=2):(c=new BI,a=t.Sa()?0:1);try{switch(a){case 0:c.pa=await i.onListen(l,!0);break;case 1:c.pa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Om(d,`Initialization of query '${Ra(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ya.push(t),t.Da(i.onlineState),c.pa&&t.va(c.pa)&&Nm(i)}async function HI(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ya.indexOf(t);d>=0&&(c.ya.splice(d,1),c.ya.length===0?l=t.Sa()?0:1:!c.wa()&&t.Sa()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GI(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ya)g.va(l)&&(a=!0);d.pa=l}}a&&Nm(i)}function FI(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.ya)c.onError(i);a.queries.delete(t)}function Nm(r){r.ba.forEach(t=>{t.next()})}var Fd,Av;(Av=Fd||(Fd={})).Ca="default",Av.Cache="cache";class QI{constructor(t,i,a){this.query=t,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ba(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),i=!0):this.Na(t,this.onlineState)&&(this.Ba(t),i=!0),this.xa=t,i}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),i=!0),i}Na(t,i){if(!t.fromCache||!this.Sa())return!0;const a=i!=="Offline";return(!this.options.La||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(t){t=Ba.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.key=t}}class NE{constructor(t){this.key=t}}class KI{constructor(t,i){this.query=t,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ot(),this.mutatedKeys=Ot(),this.Ha=$0(t),this.Ja=new Na(this.Ha)}get Ya(){return this.Ga}Za(t,i){const a=i?i.Xa:new Ev,l=i?i.Ja:this.Ja;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const C=l.get(A),q=Kc(this.query,I)?I:null,X=!!C&&this.mutatedKeys.has(C.key),nt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;C&&q?C.data.isEqual(q.data)?X!==nt&&(a.track({type:3,doc:q}),Z=!0):this.eu(C,q)||(a.track({type:2,doc:q}),Z=!0,(p&&this.Ha(q,p)>0||_&&this.Ha(q,_)<0)&&(g=!0)):!C&&q?(a.track({type:0,doc:q}),Z=!0):C&&!q&&(a.track({type:1,doc:C}),Z=!0,(p||_)&&(g=!0)),Z&&(q?(d=d.add(q),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ja:d,Xa:a,Cs:g,mutatedKeys:c}}eu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const d=t.Xa.ga();d.sort((A,I)=>function(q,X){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:Z})}};return nt(q)-nt(X)}(A.type,I.type)||this.Ha(A.doc,I.doc)),this.tu(a),l=l!=null&&l;const g=i&&!l?this.nu():[],p=this.ja.size===0&&this.current&&!l?1:0,_=p!==this.za;return this.za=p,d.length!==0||_?{snapshot:new Ba(this.query,t.Ja,c,d,t.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Ot(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const i=[];return t.forEach(a=>{this.ja.has(a)||i.push(new NE(a))}),this.ja.forEach(a=>{t.has(a)||i.push(new OE(a))}),i}su(t){this.Ga=t.$s,this.ja=Ot();const i=this.Za(t.documents);return this.applyChanges(i,!0)}ou(){return Ba.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Vm="SyncEngine";class YI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class XI{constructor(t){this.key=t,this._u=!1}}class $I{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Os(g=>X0(g),Qc),this.cu=new Map,this.lu=new Set,this.hu=new ne(ht.comparator),this.Pu=new Map,this.Tu=new Tm,this.Iu={},this.Eu=new Map,this.du=za.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ZI(r,t,i=!0){const a=kE(r);let l;const c=a.uu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.ou()):l=await VE(a,t,i,!0),l}async function JI(r,t){const i=kE(r);await VE(i,t,!0,!1)}async function VE(r,t,i,a){const l=await gI(r.localStore,ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await WI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&bE(r.remoteStore,l),g}async function WI(r,t,i,a,l){r.Ru=(I,C,q)=>async function(nt,Z,Tt,ft){let ot=Z.view.Za(Tt);ot.Cs&&(ot=await mv(nt.localStore,Z.query,!1).then(({documents:V})=>Z.view.Za(V,ot)));const Nt=ft&&ft.targetChanges.get(Z.targetId),_t=ft&&ft.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(ot,nt.isPrimaryClient,Nt,_t);return bv(nt,Z.targetId,Vt.ru),Vt.snapshot}(r,I,C,q);const c=await mv(r.localStore,t,!0),d=new KI(t,c.$s),g=d.Za(c.documents),p=Dl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);bv(r,i,_.ru);const A=new YI(t,i,d);return r.uu.set(t,A),r.cu.has(i)?r.cu.get(i).push(t):r.cu.set(i,[t]),_.snapshot}async function t2(r,t,i){const a=Et(r),l=a.uu.get(t),c=a.cu.get(l.targetId);if(c.length>1)return a.cu.set(l.targetId,c.filter(d=>!Qc(d,t))),void a.uu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Hd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Rm(a.remoteStore,l.targetId),Qd(a,l.targetId)}).catch(Fa)):(Qd(a,l.targetId),await Hd(a.localStore,l.targetId,!0))}async function e2(r,t){const i=Et(r),a=i.uu.get(t),l=i.cu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Rm(i.remoteStore,a.targetId))}async function n2(r,t,i){const a=u2(r);try{const l=await function(d,g){const p=Et(d),_=Se.now(),A=g.reduce((q,X)=>q.add(X.key),Ot());let I,C;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let X=qi(),nt=Ot();return p.Bs.getEntries(q,A).next(Z=>{X=Z,X.forEach((Tt,ft)=>{ft.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,X)).next(Z=>{I=Z;const Tt=[];for(const ft of g){const ot=gw(ft,I.get(ft.key).overlayedDocument);ot!=null&&Tt.push(new kr(ft.key,ot,q0(ot.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,Tt,g)}).next(Z=>{C=Z;const Tt=Z.applyToLocalDocumentSet(I,nt);return p.documentOverlayCache.saveOverlays(q,Z.batchId,Tt)})}).then(()=>({batchId:C.batchId,changes:J0(I)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Iu[d.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(g,p),d.Iu[d.currentUser.toKey()]=_}(a,l.batchId,i),await Nl(a,l.changes),await Wc(a.remoteStore)}catch(l){const c=Om(l,"Failed to persist write");i.reject(c)}}async function ME(r,t){const i=Et(r);try{const a=await fI(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Pu.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d._u=!0:l.modifiedDocuments.size>0?jt(d._u,14607):l.removedDocuments.size>0&&(jt(d._u,42227),d._u=!1))}),await Nl(i,a,t)}catch(a){await Fa(a)}}function Sv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.uu.forEach((c,d)=>{const g=d.view.Da(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let _=!1;p.queries.forEach((A,I)=>{for(const C of I.ya)C.Da(g)&&(_=!0)}),_&&Nm(p)}(a.eventManager,t),l.length&&a.au.j_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function i2(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Pu.get(t),c=l&&l.key;if(c){let d=new ne(ht.comparator);d=d.insert(c,Qe.newNoDocument(c,vt.min()));const g=Ot().add(c),p=new $c(vt.min(),new Map,new ne(bt),d,g);await ME(a,p),a.hu=a.hu.remove(c),a.Pu.delete(t),Mm(a)}else await Hd(a.localStore,t,!1).then(()=>Qd(a,t,i)).catch(Fa)}async function r2(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await hI(i.localStore,t);PE(i,a,null),xE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Nl(i,l)}catch(l){await Fa(l)}}async function s2(r,t,i){const a=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(jt(I!==null,37113),A=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(a.localStore,t);PE(a,t,i),xE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Nl(a,l)}catch(l){await Fa(l)}}function xE(r,t){(r.Eu.get(t)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(t)}function PE(r,t,i){const a=Et(r);let l=a.Iu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Iu[a.currentUser.toKey()]=l}}function Qd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.cu.get(t))r.uu.delete(a),i&&r.au.Vu(a,i);r.cu.delete(t),r.isPrimaryClient&&r.Tu.Hr(t).forEach(a=>{r.Tu.containsKey(a)||UE(r,a)})}function UE(r,t){r.lu.delete(t.path.canonicalString());const i=r.hu.get(t);i!==null&&(Rm(r.remoteStore,i),r.hu=r.hu.remove(t),r.Pu.delete(i),Mm(r))}function bv(r,t,i){for(const a of i)a instanceof OE?(r.Tu.addReference(a.key,t),a2(r,a)):a instanceof NE?(it(Vm,"Document no longer in limbo: "+a.key),r.Tu.removeReference(a.key,t),r.Tu.containsKey(a.key)||UE(r,a.key)):gt(19791,{mu:a})}function a2(r,t){const i=t.key,a=i.path.canonicalString();r.hu.get(i)||r.lu.has(a)||(it(Vm,"New document in limbo: "+i),r.lu.add(a),Mm(r))}function Mm(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const t=r.lu.values().next().value;r.lu.delete(t);const i=new ht(oe.fromString(t)),a=r.du.next();r.Pu.set(a,new XI(i)),r.hu=r.hu.insert(i,a),bE(r.remoteStore,new Sr(ii(pm(i.path)),a,"TargetPurposeLimboResolution",qc.le))}}async function Nl(r,t,i){const a=Et(r),l=[],c=[],d=[];a.uu.isEmpty()||(a.uu.forEach((g,p)=>{d.push(a.Ru(p,t,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const I=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=Sm.Rs(p.targetId,_);c.push(I)}}))}),await Promise.all(d),a.au.j_(l),await async function(p,_){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(_,C=>K.forEach(C.ds,q=>A.persistence.referenceDelegate.addReference(I,C.targetId,q)).next(()=>K.forEach(C.As,q=>A.persistence.referenceDelegate.removeReference(I,C.targetId,q)))))}catch(I){if(!Qa(I))throw I;it(bm,"Failed to update sequence numbers: "+I)}for(const I of _){const C=I.targetId;if(!I.fromCache){const q=A.xs.get(C),X=q.snapshotVersion,nt=q.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(C,nt)}}}(a.localStore,c))}async function o2(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(Vm,"User change. New user:",t.toKey());const a=await EE(i.localStore,t);i.currentUser=t,function(c,d){c.Eu.forEach(g=>{g.forEach(p=>{p.reject(new ut($.CANCELLED,d))})}),c.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Nl(i,a.ks)}}function l2(r,t){const i=Et(r),a=i.Pu.get(t);if(a&&a._u)return Ot().add(a.key);{let l=Ot();const c=i.cu.get(t);if(!c)return l;for(const d of c){const g=i.uu.get(d);l=l.unionWith(g.view.Ya)}return l}}function kE(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=i2.bind(null,t),t.au.j_=GI.bind(null,t.eventManager),t.au.Vu=FI.bind(null,t.eventManager),t}function u2(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,t),t}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,i){return null}bu(t,i){return null}wu(t){return cI(this.persistence,new oI,t.initialUser,this.serializer)}yu(t){return new vE(Am.fi,this.serializer)}pu(t){return new yI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class c2 extends Uc{constructor(t){super(),this.cacheSizeBytes=t}Su(t,i){jt(this.persistence.referenceDelegate instanceof xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Qw(a,t.asyncQueue,i)}yu(t){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new vE(a=>xc.fi(a,i),this.serializer)}}class Kd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await zI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jI}()}createDatastore(t){const i=Zc(t.databaseInfo.databaseId),a=function(c){return new AI(c)}(t.databaseInfo);return function(c,d,g,p){return new wI(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,d,g){return new CI(a,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>Sv(this.syncEngine,i,0),function(){return yv.C()?new yv:new _I}())}createSyncEngine(t,i){return function(l,c,d,g,p,_,A){const I=new $I(l,c,d,g,p,_);return A&&(I.Au=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(Cs,"RemoteStore shutting down."),c.Ta.add(5),await Ol(c),c.Ea.shutdown(),c.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class f2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{it(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Om(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Ad(r,t){r.asyncQueue.verifyOperationInProgress(),it(Pr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await EE(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Rv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await d2(r);it(Pr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>vv(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>vv(t.remoteStore,l)),r._onlineComponents=t}async function d2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Pr,"Using user provided OfflineComponentProvider");try{await Ad(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;xa("Error using user provided cache. Falling back to memory cache: "+i),await Ad(r,new Uc)}}else it(Pr,"Using default OfflineComponentProvider"),await Ad(r,new c2(void 0));return r._offlineComponents}async function LE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Pr,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(it(Pr,"Using default OnlineComponentProvider"),await Rv(r,new Kd))),r._onlineComponents}function m2(r){return LE(r).then(t=>t.syncEngine)}async function g2(r){const t=await LE(r),i=t.eventManager;return i.onListen=ZI.bind(null,t.syncEngine),i.onUnlisten=t2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=JI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=e2.bind(null,t.syncEngine),i}function p2(r,t,i={}){const a=new Cr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const A=new h2({next:C=>{A.Cu(),d.enqueueAndForget(()=>HI(c,I));const q=C.docs.has(g);!q&&C.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&C.fromCache&&p&&p.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),I=new QI(pm(g.path),A,{includeMetadataChanges:!0,La:!0});return qI(c,I)}(await g2(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(r,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function _2(r,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Iv(r){if(!ht.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Ds(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xm(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",Cv=!0;class Dv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=Cv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Cv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gw)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new vR;switch(a.type){case"firstParty":return new SR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=wv.get(i);a&&(it("ComponentProvider","Removing Datastore"),wv.delete(i),a.terminate())}(this),Promise.resolve()}}function v2(r,t,i,a={}){var l;r=Ds(r,Pm);const c=Al(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${i}`;c&&(zv(`https://${p}`),Bv("Firestore",!0)),d.host!==BE&&d.host!==p&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:a});if(!Dr(_,g)&&(r._setSettings(_),a.mockUserToken)){let A,I;if(typeof a.mockUserToken=="string")A=a.mockUserToken,I=Fe.MOCK_USER;else{A=HA(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Fe(C)}r._authCredentials=new ER(new O0(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Um(this.firestore,t,this._query)}}class gn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gn(this.firestore,t,this._key)}}class Tl extends Um{constructor(t,i,a){super(t,i,pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gn(this.firestore,null,new ht(t))}withConverter(t){return new Tl(this.firestore,t,this._path)}}function E2(r,t,...i){if(r=Je(r),arguments.length===1&&(t=V0.newId()),y2("doc","path",t),r instanceof Pm){const a=oe.fromString(t,...i);return Iv(a),new gn(r,null,new ht(a))}{if(!(r instanceof gn||r instanceof Tl))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return Iv(a),new gn(r.firestore,r instanceof Tl?r.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="AsyncQueue";class Nv{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new AE(this,"async_queue_retry"),this.ec=()=>{const a=Td();a&&it(Ov,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=t;const i=Td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const i=Td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Cr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Qa(t))throw t;it(Ov,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const i=this.tc.then(()=>(this.Yu=!0,t().catch(a=>{throw this.Ju=a,this.Yu=!1,ji("INTERNAL UNHANDLED ERROR: ",Vv(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=i,i}enqueueAfterDelay(t,i,a){this.nc(),this.Xu.indexOf(t)>-1&&(i=0);const l=Dm.createAndSchedule(this,t,i,a,c=>this.oc(c));return this.Hu.push(l),l}nc(){this.Ju&&gt(47125,{_c:Vv(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const i of this.Hu)if(i.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const i=this.Hu.indexOf(t);this.Hu.splice(i,1)}}function Vv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class th extends Pm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Nv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Nv(t),this._firestoreClient=void 0,await t}}}function T2(r,t){const i=typeof r=="object"?r:Gv(),a=typeof r=="string"?r:Ic,l=Jd(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jA("firestore");c&&v2(l,...c)}return l}function jE(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||A2(r),r._firestoreClient}function A2(r){var t,i,a;const l=r._freezeSettings(),c=function(g,p,_,A){return new LR(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,zE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new f2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(Be.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ja(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class b2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Cl(t,this.data,i,this.fieldTransforms)}}class qE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new kr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{hc:r})}}class ih{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new ih(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Tc({path:a,Ec:!1});return l.dc(t),l}Ac(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Tc({path:a,Ec:!1});return l.Pc(),l}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return kc(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(HE(this.hc)&&S2.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class R2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Zc(t)}gc(t,i,a,l=!1){return new ih({hc:t,methodName:i,fc:a,path:ze.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(r){const t=r._freezeSettings(),i=Zc(r._databaseId);return new R2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function w2(r,t,i,a,l,c={}){const d=r.gc(c.merge||c.mergeFields?2:0,t,i,l);Bm("Data must be an object, but it was:",d,a);const g=FE(a,d);let p,_;if(c.merge)p=new mn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const C=Yd(t,I,i);if(!d.contains(C))throw new ut($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);KE(A,C)||A.push(C)}p=new mn(A),_=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=d.fieldTransforms;return new b2(new rn(g),p,_)}class rh extends nh{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rh}}function I2(r,t,i){return new ih({hc:3,fc:t.settings.fc,methodName:r._methodName,Ec:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class zm extends nh{constructor(t,i){super(t),this.yc=i}_toFieldTransform(t){const i=I2(this,t,!0),a=this.yc.map(c=>Vl(c,i)),l=new La(a);return new hw(t.path,l)}isEqual(t){return t instanceof zm&&Dr(this.yc,t.yc)}}function C2(r,t,i,a){const l=r.gc(1,t,i);Bm("Data must be an object, but it was:",l,a);const c=[],d=rn.empty();Ur(a,(p,_)=>{const A=jm(t,p,i);_=Je(_);const I=l.Ac(A);if(_ instanceof rh)c.push(A);else{const C=Vl(_,I);C!=null&&(c.push(A),d.set(A,C))}});const g=new mn(c);return new qE(d,g,l.fieldTransforms)}function D2(r,t,i,a,l,c){const d=r.gc(1,t,i),g=[Yd(t,a,i)],p=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(Yd(t,c[C])),p.push(c[C+1]);const _=[],A=rn.empty();for(let C=g.length-1;C>=0;--C)if(!KE(_,g[C])){const q=g[C];let X=p[C];X=Je(X);const nt=d.Ac(q);if(X instanceof rh)_.push(q);else{const Z=Vl(X,nt);Z!=null&&(_.push(q),A.set(q,Z))}}const I=new mn(_);return new qE(A,I,d.fieldTransforms)}function Vl(r,t){if(QE(r=Je(r)))return Bm("Unsupported field value:",t,r),FE(r,t);if(r instanceof nh)return function(a,l){if(!HE(l.hc))throw l.Vc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Vc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let p=Vl(g,l.Rc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Se.fromDate(a);return{timestampValue:Mc(l.serializer,c)}}if(a instanceof Se){const c=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Mc(l.serializer,c)}}if(a instanceof km)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ja)return{bytesValue:hE(l.serializer,a._byteString)};if(a instanceof gn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Em(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Lm)return function(d,g){return{mapValue:{fields:{[B0]:{stringValue:j0},[Cc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return ym(g.serializer,_)})}}}}}}(a,l);throw l.Vc(`Unsupported field value: ${xm(a)}`)}(r,t)}function FE(r,t){const i={};return x0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ur(r,(a,l)=>{const c=Vl(l,t.Ic(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function QE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof km||r instanceof ja||r instanceof gn||r instanceof nh||r instanceof Lm)}function Bm(r,t,i){if(!QE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const a=xm(i);throw a==="an object"?t.Vc(r+" a custom object"):t.Vc(r+" "+a)}}function Yd(r,t,i){if((t=Je(t))instanceof eh)return t._internalPath;if(typeof t=="string")return jm(r,t);throw kc("Field path arguments must be of type string or ",r,!1,void 0,i)}const O2=new RegExp("[~\\*/\\[\\]]");function jm(r,t,i){if(t.search(O2)>=0)throw kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new eh(...t.split("."))._internalPath}catch{throw kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function kc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ut($.INVALID_ARGUMENT,g+r+p)}function KE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class N2 extends YE{data(){return super.data()}}function XE(r,t){return typeof t=="string"?jm(r,t):t instanceof eh?t._internalPath:t._delegate._internalPath}class V2{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ur(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[Cc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Lm(c)}convertGeoPoint(t){return new km(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Gc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(yl(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);jt(yE(a),9688,{name:t});const l=new _l(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $E extends YE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new P2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class P2 extends $E{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){r=Ds(r,gn);const t=Ds(r.firestore,th);return p2(jE(t),r._key).then(i=>B2(t,r,i))}class k2 extends V2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new gn(this.firestore,null,i)}}function L2(r,t,i){r=Ds(r,gn);const a=Ds(r.firestore,th),l=M2(r.converter,t);return ZE(a,[w2(GE(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ri.none())])}function z2(r,t,i,...a){r=Ds(r,gn);const l=Ds(r.firestore,th),c=GE(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof eh?D2(c,"updateDoc",r._key,t,i,a):C2(c,"updateDoc",r._key,t),ZE(l,[d.toMutation(r._key,ri.exists(!0))])}function ZE(r,t){return function(a,l){const c=new Cr;return a.asyncQueue.enqueueAndForget(async()=>n2(await m2(a),l,c)),c.promise}(jE(r),t)}function B2(r,t,i){const a=i.docs.get(t._key),l=new k2(r);return new $E(r,l,t._key,a,new x2(i.hasPendingWrites,i.fromCache),t.converter)}function j2(...r){return new zm("arrayUnion",r)}(function(t,i=!0){(function(l){Ga=l})(qa),Va(new Rs("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new th(new TR(a.getProvider("auth-internal")),new bR(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(_.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),wr(L_,z_,t),wr(L_,z_,"esm2017")})();const q2={apiKey:"AIzaSyAkY3oF5s2_kw362fkgOJFRW_ZrnPlX3Cs",authDomain:"resignation-stamp.firebaseapp.com",projectId:"resignation-stamp",storageBucket:"resignation-stamp.firebasestorage.app",messagingSenderId:"785089546177",appId:"1:785089546177:web:546cda6862e8b17f5c5140"},JE=Hv(q2),qm=yR(JE),H2=T2(JE),G2=new Pi,F2=()=>wb(qm,G2),Q2=()=>ab(qm),K2=({isOpen:r,onClose:t,onSubmit:i,initialReason:a=""})=>{const[l,c]=Li.useState(a);return r?$t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:$t.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[$t.jsx("h2",{className:"text-xl mb-4",children:"請輸入理由"}),$t.jsx("textarea",{rows:4,className:"w-full border rounded p-2 mb-4",value:l,onChange:d=>c(d.target.value),placeholder:"請輸入蓋章理由"}),$t.jsxs("div",{className:"flex justify-end space-x-3",children:[$t.jsx("button",{className:"px-4 py-2 border rounded",onClick:()=>{c(""),t()},children:"取消"}),$t.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:l.trim()==="",onClick:()=>{i(l.trim()),c("")},children:"蓋章"})]})]})}):null},Y2=({stamps:r,maxStamps:t,onStampAdd:i})=>{const[a,l]=Li.useState(!1),[c,d]=Li.useState(null),g=A=>r.some(I=>I.index===A),p=A=>{g(A)||(d(A),l(!0))},_=A=>{c!==null&&i(c,A),l(!1),d(null)};return $t.jsxs($t.Fragment,{children:[$t.jsx("div",{className:"grid grid-cols-10 gap-2 max-w-xl mx-auto mt-6",children:[...Array(t)].map((A,I)=>{const C=I+1,q=g(C);return $t.jsx("button",{className:`h-10 rounded border flex items-center justify-center text-sm
                ${q?"bg-green-500 text-white cursor-default":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>p(C),disabled:q,title:q?"已蓋章":`第 ${C} 個章位`,children:C},C)})}),$t.jsx(K2,{isOpen:a,onClose:()=>l(!1),onSubmit:_})]})},Sd=100,X2=({user:r,logout:t})=>{const[i,a]=Li.useState([]),[l,c]=Li.useState(!0),d=E2(H2,"users",r.uid);Li.useEffect(()=>{(async()=>{c(!0);const A=await U2(d);if(A.exists()){const I=A.data();a(I.stamps||[])}else await L2(d,{stamps:[]});c(!1)})()},[r.uid]);const g=async(_,A)=>{const I={index:_,reason:A,timestamp:Date.now()};a(C=>[...C,I]),await z2(d,{stamps:j2(I)})},p=i.length/Sd*100;return l?$t.jsx("div",{children:"載入中..."}):$t.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[$t.jsxs("header",{className:"flex justify-between items-center mb-6",children:[$t.jsx("h1",{className:"text-2xl font-bold",children:"離職集章"}),$t.jsx("button",{onClick:()=>t(),className:"px-4 py-2 bg-red-500 text-white rounded",children:"登出"})]}),$t.jsxs("div",{className:"mb-4",children:[$t.jsx("div",{className:"w-full bg-gray-200 rounded h-6",children:$t.jsx("div",{className:"bg-green-500 h-6 rounded",style:{width:`${p}%`}})}),$t.jsxs("p",{className:"text-right text-sm mt-1",children:[i.length," / ",Sd," 個章位已蓋"]})]}),$t.jsx(Y2,{stamps:i,maxStamps:Sd,onStampAdd:g})]})};function $2(){const[r,t]=Li.useState(null);return Li.useEffect(()=>{const i=sb(qm,a=>t(a));return()=>i()},[]),r?$t.jsx(X2,{user:r,logout:Q2}):$t.jsx("div",{className:"flex h-screen items-center justify-center",children:$t.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:F2,children:"使用 Google 登入"})})}VA.createRoot(document.getElementById("root")).render($t.jsx(Li.StrictMode,{children:$t.jsx($2,{})}));
